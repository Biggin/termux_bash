'use strict';var k,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,da=function(){da=function(){};ca.Symbol||(ca.Symbol=ea)},fa=function(a,b){this.a=a;ba(this,"description",{configurable:!0,writable:!0,value:b})};
fa.prototype.toString=function(){return this.a};
var ea=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new fa("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}(),ia=function(){da();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}});ia=function(){}},ha=function(a){ia();a={next:a};a[ca.Symbol.iterator]=function(){return this};return a},
ja=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ka="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},la;if("function"==typeof Object.setPrototypeOf)la=Object.setPrototypeOf;else{var ma;a:{var na={Ja:!0},oa={};try{oa.__proto__=na;ma=oa.Ja;break a}catch(a){}ma=!1}la=ma?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var pa=la,qa=function(a,b){a.prototype=ka(b.prototype);a.prototype.constructor=a;if(pa)pa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.F=b.prototype},ra=function(a,b){if(b){var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}},sa=function(a,b,c){if(null==
a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};ra("String.prototype.endsWith",function(a){return a?a:function(b,c){var d=sa(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var e=b.length;0<e&&0<c;)if(d[--c]!=b[--e])return!1;return 0>=e}});
ra("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=sa(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});
var ta=ta||{},l=this||self,n=function(){},ua=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},va=function(a){return"array"==ua(a)},wa=function(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length},xa=function(a){return"function"==ua(a)},ya=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0,Ba=function(a,b,c){return a.call.apply(a.bind,arguments)},Ca=function(a,b,c){if(!a)throw Error();
if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},Da=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da=Ba:Da=Ca;return Da.apply(null,arguments)},Ea=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);
return a.apply(this,d)}},Fa=Date.now||function(){return+new Date},p=function(a,b){a=a.split(".");var c=l;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b},r=function(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a};var t=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};r(t,Error);t.prototype.name="CustomError";var Ga=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Ia=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e="string"===typeof a?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Ka=function(a,b){a:{for(var c=a.length,
d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]},La=function(a){if(!va(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Na=function(a,b){b=Ga(a,b);var c;(c=0<=b)&&Ma(a,b);return c},Ma=function(a,b){Array.prototype.splice.call(a,b,1)},Oa=function(a){return Array.prototype.concat.apply([],arguments)},Pa=function(a){return Array.prototype.concat.apply([],arguments)},Qa=function(a){var b=
a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Ra=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(wa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},Ta=function(a,b,c,d){Array.prototype.splice.apply(a,Sa(arguments,1))},Sa=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Ua=function(a,b){return a>b?1:a<b?-1:0};var Va=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Wa=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},Ya=function(a,b){var c=0;a=Va(String(a)).split(".");b=Va(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;
c=Xa(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||Xa(0==f[2].length,0==g[2].length)||Xa(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c},Xa=function(a,b){return a<b?-1:a>b?1:0};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}var u=function(a){return-1!=Za.indexOf(a)};var bb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},cb=function(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c},db=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},eb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},v=function(a,b,c){b in a||(a[b]=c)},fb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),hb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=
arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gb.length;f++)c=gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ib=function(){return u("Firefox")||u("FxiOS")},jb=function(){return(u("Chrome")||u("CriOS"))&&!u("Edge")};var mb=function(a,b){this.b=a===kb&&b||"";this.a=lb},lb={},kb={},nb=new mb(kb,"");var qb=function(a,b){this.b=a===ob&&b||"";this.a=pb},pb={},ob={};var sb=function(){this.a="";this.b=rb},ub=function(){var a=tb;if(a instanceof sb&&a.constructor===sb&&a.b===rb)return a.a;ua(a);return"type_error:SafeHtml"},rb={},vb=function(a){var b=new sb;b.a=a;return b};vb("<!DOCTYPE html>");var tb=vb("");vb("<br>");var wb=function(a){var b=new qb(ob,nb instanceof mb&&nb.constructor===mb&&nb.a===lb?nb.b:"type_error:Const");b instanceof qb&&b.constructor===qb&&b.a===pb?b=b.b:(ua(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};var xb=function(a){var b=RegExp;var c=":".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");b=new b(c,"g");return a.replace(b,"")},yb=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Fa()).toString(36)},zb=function(a){var b=1;a=a.split(":");for(var c=[];0<b&&a.length;)c.push(a.shift()),b--;a.length&&c.push(a.join(":"));return c};var Ab=function(){return u("iPhone")&&!u("iPod")&&!u("iPad")};var Bb=function(a){Bb[" "](a);return a};Bb[" "]=n;var Cb=function(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Db=u("Opera"),Eb=u("Trident")||u("MSIE"),Fb=u("Edge"),Gb=u("Gecko")&&!(-1!=Za.toLowerCase().indexOf("webkit")&&!u("Edge"))&&!(u("Trident")||u("MSIE"))&&!u("Edge"),Hb=-1!=Za.toLowerCase().indexOf("webkit")&&!u("Edge"),Ib=function(){var a=l.document;return a?a.documentMode:void 0},Jb;
a:{var Kb="",Lb=function(){var a=Za;if(Gb)return/rv:([^\);]+)(\)|;)/.exec(a);if(Fb)return/Edge\/([\d\.]+)/.exec(a);if(Eb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Hb)return/WebKit\/(\S+)/.exec(a);if(Db)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Lb&&(Kb=Lb?Lb[1]:"");if(Eb){var Mb=Ib();if(null!=Mb&&Mb>parseFloat(Kb)){Jb=String(Mb);break a}}Jb=Kb}var Nb=Jb,Ob={},Pb=function(a){return Cb(Ob,a,function(){return 0<=Ya(Nb,a)})},Qb;Qb=l.document&&Eb?Ib():void 0;var Rb=function(a,b){this.c=a;this.f=b;this.b=0;this.a=null};Rb.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next;a.next=null}else a=this.c();return a};var Sb=function(a,b){a.f(b);100>a.b&&(a.b++,b.next=a.a,a.a=b)};var Tb=function(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var Ub=function(a){l.setTimeout(function(){throw a;},0)},Vb,Wb=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!u("Presto")&&(a=function(){var e=Tb("IFRAME");e.style.display="none";wb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(ub());e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Da(function(m){if(("*"==
h||m.origin==h)&&m.data==g)this.port1.onmessage()},this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!u("Trident")&&!u("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.sa;c.sa=null;e()}};return function(e){d.next={sa:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in Tb("SCRIPT")?function(e){var f=Tb("SCRIPT");f.onreadystatechange=
function(){f.onreadystatechange=null;f.parentNode.removeChild(f);f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){l.setTimeout(e,0)}};var Xb=function(){this.b=this.a=null},Zb=new Rb(function(){return new Yb},function(a){a.reset()});Xb.prototype.add=function(a,b){var c=Zb.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};Xb.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};var Yb=function(){this.next=this.b=this.a=null};Yb.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};Yb.prototype.reset=function(){this.next=this.b=this.a=null};var dc=function(a,b){$b||ac();bc||($b(),bc=!0);cc.add(a,b)},$b,ac=function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);$b=function(){a.then(ec)}}else $b=function(){var b=ec;!xa(l.setImmediate)||l.Window&&l.Window.prototype&&!u("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Vb||(Vb=Wb()),Vb(b)):l.setImmediate(b)}},bc=!1,cc=new Xb,ec=function(){for(var a;a=cc.remove();){try{a.a.call(a.b)}catch(b){Ub(b)}Sb(Zb,a)}bc=!1};var w=function(a){this.a=0;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=n)try{var b=this;a.call(void 0,function(c){fc(b,2,c)},function(c){fc(b,3,c)})}catch(c){fc(this,3,c)}},gc=function(){this.next=this.context=this.b=this.f=this.a=null;this.c=!1};gc.prototype.reset=function(){this.context=this.b=this.f=this.a=null;this.c=!1};
var hc=new Rb(function(){return new gc},function(a){a.reset()}),ic=function(a,b,c){var d=hc.get();d.f=a;d.b=b;d.context=c;return d},x=function(a){if(a instanceof w)return a;var b=new w(n);fc(b,2,a);return b},jc=function(a){return new w(function(b,c){c(a)})},lc=function(a,b,c){kc(a,b,c,null)||dc(Ea(b,a))},y=function(a){return new w(function(b,c){var d=a.length,e=[];if(d)for(var f=function(q,I){d--;e[q]=I;0==d&&b(e)},g=function(q){c(q)},h=0,m;h<a.length;h++)m=a[h],lc(m,Ea(f,h),g);else b(e)})},z=function(){var a,
b,c=new w(function(d,e){a=d;b=e});return new mc(c,a,b)};w.prototype.then=function(a,b,c){return nc(this,xa(a)?a:null,xa(b)?b:null,c)};w.prototype.$goog_Thenable=!0;var A=function(a,b){b=ic(b,b,void 0);b.c=!0;oc(a,b);return a},B=function(a,b,c){return nc(a,null,b,c)};w.prototype.cancel=function(a){if(0==this.a){var b=new D(a);dc(function(){pc(this,b)},this)}};
var pc=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.c||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?pc(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):qc(c),rc(c,e,3,b)))}a.c=null}else fc(a,3,b)},oc=function(a,b){a.b||2!=a.a&&3!=a.a||sc(a);a.f?a.f.next=b:a.b=b;a.f=b},nc=function(a,b,c,d){var e=ic(null,null,null);e.a=new w(function(f,g){e.f=b?function(h){try{var m=b.call(d,h);f(m)}catch(q){g(q)}}:f;e.b=c?function(h){try{var m=c.call(d,
h);void 0===m&&h instanceof D?g(h):f(m)}catch(q){g(q)}}:g});e.a.c=a;oc(a,e);return e.a};w.prototype.l=function(a){this.a=0;fc(this,2,a)};w.prototype.m=function(a){this.a=0;fc(this,3,a)};
var fc=function(a,b,c){0==a.a&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.a=1,kc(c,a.l,a.m,a)||(a.i=c,a.a=b,a.c=null,sc(a),3!=b||c instanceof D||tc(a,c)))},kc=function(a,b,c,d){if(a instanceof w)return oc(a,ic(b||n,c||null,d)),!0;if(a)try{var e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;if(ya(a))try{var f=a.then;if(xa(f))return uc(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},uc=function(a,b,c,d,e){var f=!1,g=function(m){f||(f=!0,c.call(e,
m))},h=function(m){f||(f=!0,d.call(e,m))};try{b.call(a,g,h)}catch(m){h(m)}},sc=function(a){a.h||(a.h=!0,dc(a.j,a))},qc=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b};w.prototype.j=function(){for(var a;a=qc(this);)rc(this,a,this.a,this.i);this.h=!1};
var rc=function(a,b,c,d){if(3==c&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,vc(b,c,d);else try{b.c?b.f.call(b.context):vc(b,c,d)}catch(e){wc.call(null,e)}Sb(hc,b)},vc=function(a,b,c){2==b?a.f.call(a.context,c):a.b&&a.b.call(a.context,c)},tc=function(a,b){a.g=!0;dc(function(){a.g&&wc.call(null,b)})},wc=Ub,D=function(a){t.call(this,a)};r(D,t);D.prototype.name="cancel";var mc=function(a,b,c){this.a=a;this.b=b;this.c=c};var E=function(){return x("")};var F=function(a){this.type=a};p("castApp.protocol.Message",F);var xc=function(a){this.type=a;this.requestId=yb()};r(xc,F);p("castApp.protocol.Request",xc);var G=function(a,b){this.type=a;this.responseTo=b.requestId};r(G,F);p("castApp.protocol.Response",G);var yc=function(a,b){G.call(this,"Error",a);this.errorName=b||"err-unknown"};r(yc,G);p("castApp.protocol.Error",yc);var zc=function(){};p("castApp.protocol.Handshake",zc);var Ac=function(){xc.call(this,"Handshake.Request");this.coreVersion=6};
r(Ac,xc);zc.Request=Ac;var Bc=function(a){G.call(this,"Handshake.Response",a);this.version=6;this.latestVersion=void 0};r(Bc,G);zc.Response=Bc;var Cc=function(a,b){G.call(this,"Handshake.UiVersionNotSupported",a);this.latestVersion=b};r(Cc,G);zc.UiVersionNotSupported=Cc;var Dc=function(a){this.type="SetSimpleState";this.state=a};r(Dc,F);p("castApp.protocol.SetSimpleState",Dc);var Ec=function(){};p("castApp.protocol.ModalDialog",Ec);
var Fc=function(a){xc.call(this,"ModalDialog.Request");this.dialogId=a};r(Fc,xc);Ec.Request=Fc;var Gc=function(a,b){G.call(this,"ModalDialog.Response",a);this.button=b};r(Gc,G);Ec.Response=Gc;var Hc=function(a,b){this.type=a;this.deviceType=b};r(Hc,F);p("castApp.protocol.MessageWithDeviceType",Hc);var Ic=function(){};p("castApp.protocol.DeviceDiscovery",Ic);var Jc=function(a){this.type="DeviceDiscovery.ShowScanner";this.showTips=a};r(Jc,F);Ic.ShowScanner=Jc;var Kc=function(){};
p("castApp.protocol.SetupStart",Kc);var Lc=function(a,b,c){this.type="SetupStart.ShowDevice";this.state=a;this.deviceType=b;this.deviceName=c;this.analyticsOptIn=this.otherDevicesExist=!1};r(Lc,F);Kc.ShowDevice=Lc;var Mc=function(a){this.type="SetupStart.TosAccepted";this.analyticsOptIn=a};r(Mc,F);Kc.TosAccepted=Mc;var Nc=function(){};p("castApp.protocol.WiFiSwitching",Nc);var Oc=function(a,b,c){this.type="WiFiSwitching.ConnectHotSpot";this.state=a;this.deviceName=b;this.ssid=c};r(Oc,F);
Nc.ConnectHotSpot=Oc;var Pc=function(a,b){this.type="WiFiSwitching.ReconnectWiFi";this.state=a;this.ssid=b};r(Pc,F);Nc.ReconnectWiFi=Pc;var Qc=function(){};p("castApp.protocol.CodeConfirmation",Qc);var Rc=function(a){xc.call(this,"CodeConfirmation.Request");this.code=a};r(Rc,xc);Qc.Request=Rc;var Sc=function(a,b){G.call(this,"CodeConfirmation.Response",a);this.confirmed=b};r(Sc,G);Qc.Response=Sc;var Tc=function(){};p("castApp.protocol.AudioConfirmation",Tc);
var Uc=function(a){this.type="AudioConfirmation.PromptUser";this.state=a};r(Uc,F);Tc.PromptUser=Uc;var Vc=function(a){this.type="AudioConfirmation.UserAction";this.action=a};r(Vc,F);Tc.UserAction=Vc;var Wc=function(){};p("castApp.protocol.DeviceConfig",Wc);var Xc=function(a,b,c){xc.call(this,"DeviceConfig.Request");this.deviceType=a;this.name=b;this.country=c};r(Xc,xc);Wc.Request=Xc;var Yc=function(a,b,c){G.call(this,"DeviceConfig.Response",a);this.name=b;this.country=c};r(Yc,G);Wc.Response=Yc;
var Zc=function(){};p("castApp.protocol.WiFiConfig",Zc);var $c=function(a,b,c){this.id=a;this.ssid=b;this.security=c};Zc.Network=$c;var ad=function(a,b,c,d){this.type="WiFiConfig.Show";this.state=a;this.deviceType=b;this.networks=c;this.selectedNetwork=d};r(ad,F);Zc.Show=ad;var bd=function(a){this.type="WiFiConfig.UpdateNetworks";this.networks=a};r(bd,F);Zc.UpdateNetworks=bd;var cd=function(a,b){this.type="WiFiConfig.Connect";this.network=a;this.password=b};r(cd,F);Zc.Connect=cd;
var dd=function(a){this.type="WiFiConfig.Retry";this.network=a};r(dd,F);Zc.Retry=dd;var ed=function(){};p("castApp.protocol.Features",ed);var fd=function(){};ed.DeviceSettings=fd;var gd=function(){this.supportsDisplay=this.supportsSetup=!1};ed.Device=gd;var hd=function(){};p("castApp.protocol.Devices",hd);var id=function(a,b,c){this.id=a;this.type=b;this.displayName=c};hd.DeviceProperties=id;var jd=function(a,b){this.type="Devices.Show";this.devices=a;this.deviceName=b};r(jd,F);hd.Show=jd;
var kd=function(a,b){this.type="Devices.UserAction";this.device=a;this.action=b};r(kd,F);hd.UserAction=kd;var ld=function(){};p("castApp.protocol.DeviceSettings",ld);var md=function(a,b){this.localeId=a;this.displayString=b};ld.Locale=md;var nd=function(a,b,c){this.timeZoneId=a;this.displayString=b;this.offset=c};ld.TimeZone=nd;
var od=function(a,b,c){this.type="DeviceSettings.Show";this.state=a;this.features=b;this.deviceType=c.deviceType;this.name=c.name;this.ssid=c.ssid;this.timeZoneId=c.timeZoneId;this.supportedTimeZones=c.supportedTimeZones;this.timeFormat=c.timeFormat;this.localeId=c.localeId;this.supportedLocales=c.supportedLocales;this.statsOptIn=c.statsOptIn;this.firmwareVersion=c.firmwareVersion;this.countryCode=c.countryCode;this.macAddress=c.macAddress;this.ipAddress=c.ipAddress};r(od,F);ld.Show=od;
var pd=function(a){this.type="DeviceSettings.Apply";this.name=a.name;this.timeZoneId=a.timeZoneId;this.timeFormat=a.timeFormat;this.localeId=a.localeId;this.statsOptIn=a.statsOptIn};r(pd,F);ld.Apply=pd;var qd=function(){};p("castApp.protocol.DetectCountry",qd);var rd=function(){xc.call(this,"DetectCountry.Request")};r(rd,xc);qd.Request=rd;var sd=function(a,b){G.call(this,"DetectCountry.Response",a);this.countryCode=b};r(sd,G);qd.Response=sd;var td=function(){};p("castApp.protocol.Offers",td);
var ud=function(){this.type="Offers.Scan";this.scanId=yb()};r(ud,F);td.Scan=ud;var vd=function(a,b,c,d){this.token=a;this.displayName=b;this.deviceType=c;this.ssdpUdn=d};td.Device=vd;var wd=function(a,b,c){this.type="Offers.ScanResults";this.scanId=a;this.devices=b;this.scanComplete=c};r(wd,F);td.ScanResults=wd;var xd=function(a){this.type="Offers.Redeem";this.url=a};r(xd,F);td.Redeem=xd;var yd=function(a,b){this.type="Offers.AnalyticsEvent";this.eventType=a;this.offerId=b};r(yd,F);
td.AnalyticsEvent=yd;var H=function(a,b){this.a=b;for(var c=[],d=!0,e=a.length-1;0<=e;e--){var f=a[e]|0;d&&f==b||(c[e]=f,d=!1)}this.b=c},zd={},Ad=function(a){return-128<=a&&128>a?Cb(zd,a,function(b){return new H([b|0],0>b?-1:0)}):new H([a|0],0>a?-1:0)},Cd=function(a){if(isNaN(a)||!isFinite(a))return Bd;if(0>a)return J(Cd(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new H(b,0)},Dd=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+
b);if("-"==a.charAt(0))return J(Dd(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var c=Cd(Math.pow(b,8)),d=Bd,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=Cd(Math.pow(b,f)),d=Ed(d,f).add(Cd(g))):(d=Ed(d,c),d=d.add(Cd(g)))}return d},Bd=Ad(0),Fd=Ad(1),Gd=Ad(16777216),Hd=function(a){if(-1==a.a)return-Hd(J(a));for(var b=0,c=1,d=0;d<a.b.length;d++)b+=Id(a,d)*c,c*=4294967296;return b};
H.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Jd(this))return"0";if(-1==this.a)return"-"+J(this).toString(a);for(var b=Cd(Math.pow(a,6)),c=this,d="";;){var e=Kd(c,b).a;c=Ld(c,Ed(e,b));var f=((0<c.b.length?c.b[0]:c.a)>>>0).toString(a);c=e;if(Jd(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var K=function(a,b){return 0>b?0:b<a.b.length?a.b[b]:a.a},Id=function(a,b){a=K(a,b);return 0<=a?a:4294967296+a},Jd=function(a){if(0!=a.a)return!1;for(var b=0;b<a.b.length;b++)if(0!=a.b[b])return!1;return!0},Md=function(a,b){a=Ld(a,b);return-1==a.a?-1:Jd(a)?0:1},J=function(a){for(var b=a.b.length,c=[],d=0;d<b;d++)c[d]=~a.b[d];return(new H(c,~a.a)).add(Fd)};H.prototype.abs=function(){return-1==this.a?J(this):this};
H.prototype.add=function(a){for(var b=Math.max(this.b.length,a.b.length),c=[],d=0,e=0;e<=b;e++){var f=d+(K(this,e)&65535)+(K(a,e)&65535),g=(f>>>16)+(K(this,e)>>>16)+(K(a,e)>>>16);d=g>>>16;f&=65535;g&=65535;c[e]=g<<16|f}return new H(c,c[c.length-1]&-2147483648?-1:0)};
var Ld=function(a,b){return a.add(J(b))},Ed=function(a,b){if(Jd(a)||Jd(b))return Bd;if(-1==a.a)return-1==b.a?Ed(J(a),J(b)):J(Ed(J(a),b));if(-1==b.a)return J(Ed(a,J(b)));if(0>Md(a,Gd)&&0>Md(b,Gd))return Cd(Hd(a)*Hd(b));for(var c=a.b.length+b.b.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.b.length;e++)for(var f=0;f<b.b.length;f++){var g=K(a,e)>>>16,h=K(a,e)&65535,m=K(b,f)>>>16,q=K(b,f)&65535;d[2*e+2*f]+=h*q;Nd(d,2*e+2*f);d[2*e+2*f+1]+=g*q;Nd(d,2*e+2*f+1);d[2*e+2*f+1]+=h*m;Nd(d,2*e+2*f+1);d[2*e+2*f+
2]+=g*m;Nd(d,2*e+2*f+2)}for(e=0;e<c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new H(d,0)},Nd=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++},Od=function(a,b){this.a=a;this.b=b},Kd=function(a,b){if(Jd(b))throw Error("division by zero");if(Jd(a))return new Od(Bd,Bd);if(-1==a.a)return b=Kd(J(a),b),new Od(J(b.a),J(b.b));if(-1==b.a)return b=Kd(a,J(b)),new Od(J(b.a),b.b);if(30<a.b.length){if(-1==a.a||-1==b.a)throw Error("slowDivide_ only works with positive integers.");
for(var c=Fd,d=b;0>=Md(d,a);)c=Pd(c,1),d=Pd(d,1);var e=Qd(c,1),f=Qd(d,1);d=Qd(d,2);for(c=Qd(c,2);!Jd(d);){var g=f.add(d);0>=Md(g,a)&&(e=e.add(c),f=g);d=Qd(d,1);c=Qd(c,1)}b=Ld(a,Ed(e,b));return new Od(e,b)}for(e=Bd;0<=Md(a,b);){c=Math.max(1,Math.floor(Hd(a)/Hd(b)));d=Math.ceil(Math.log(c)/Math.LN2);d=48>=d?1:Math.pow(2,d-48);f=Cd(c);for(g=Ed(f,b);-1==g.a||0<Md(g,a);)c-=d,f=Cd(c),g=Ed(f,b);Jd(f)&&(f=Fd);e=e.add(f);a=Ld(a,g)}return new Od(e,a)};
H.prototype.and=function(a){for(var b=Math.max(this.b.length,a.b.length),c=[],d=0;d<b;d++)c[d]=K(this,d)&K(a,d);return new H(c,this.a&a.a)};H.prototype.or=function(a){for(var b=Math.max(this.b.length,a.b.length),c=[],d=0;d<b;d++)c[d]=K(this,d)|K(a,d);return new H(c,this.a|a.a)};H.prototype.xor=function(a){for(var b=Math.max(this.b.length,a.b.length),c=[],d=0;d<b;d++)c[d]=K(this,d)^K(a,d);return new H(c,this.a^a.a)};
var Pd=function(a,b){var c=b>>5;b%=32;for(var d=a.b.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?K(a,f-c)<<b|K(a,f-c-1)>>>32-b:K(a,f-c);return new H(e,a.a)},Qd=function(a,b){var c=b>>5;b%=32;for(var d=a.b.length-c,e=[],f=0;f<d;f++)e[f]=0<b?K(a,f+c)>>>b|K(a,f+c+1)<<32-b:K(a,f+c);return new H(e,a.a)};var Rd=function(a){this.a=a},Ud=function(a){try{return-1!=a.indexOf(":")?new Sd(a):new Td(a)}catch(b){return null}},Td=function(a){this.b=null;var b=Bd;if(a instanceof H){if(0!=a.a||0>Md(a,Bd)||0<Md(a,Vd))throw Error("The address does not look like an IPv4.");b=fb(a)}else{if(!Wd.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?
NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=Cd(e);b=Pd(b,8).or(e)}}this.a=b};r(Td,Rd);var Wd=/^[0-9.]*$/,Vd=Ld(Pd(Fd,32),Fd);Td.prototype.toString=function(){if(this.b)return this.b;for(var a=Id(this.a,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.b=b.join(".")};
var Sd=function(a){this.b=null;var b=Bd;if(a instanceof H){if(0!=a.a||0>Md(a,Bd)||0<Md(a,Xd))throw Error("The address does not look like a valid IPv6.");b=fb(a)}else{if(!Yd.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Id(fb((new Td(c[c.length-1])).a),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));Ma(c,c.length-1);Ra(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+
" is not a valid IPv6 address.");if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=Pa(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=Dd(c[d],16);if(0>Md(e,Bd)||0<Md(e,Zd))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Pd(b,16).or(e)}}this.a=b};r(Sd,Rd);
var Yd=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Zd=Ad(65535),Xd=Ld(Pd(Fd,128),Fd);Sd.prototype.toString=function(){if(this.b)return this.b;for(var a=[],b=3;0<=b;b--){var c=Id(this.a,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}c=b=-1;for(var e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.b=a.join(":")};var $d="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},ae=function(){};ae.prototype.next=function(){throw $d;};ae.prototype.K=function(){return this};
var be=function(a){if(a instanceof ae)return a;if("function"==typeof a.K)return a.K(!1);if(wa(a)){var b=0,c=new ae;c.next=function(){for(;;){if(b>=a.length)throw $d;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},ce=function(a,b){if(wa(a))try{Ia(a,b,void 0)}catch(c){if(c!==$d)throw c;}else{a=be(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==$d)throw c;}}},de=function(a,b){var c=null;ce(a,function(d){c=b.call(void 0,c,d)});return c},ee=function(a,b){a=be(a);
try{for(;;)if(!b.call(void 0,a.next(),void 0,a))return!1}catch(c){if(c!==$d)throw c;}return!0};var L=function(a,b){this.c={};this.b=[];this.f=this.a=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof L)for(c=a.A(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])};L.prototype.u=function(){fe(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.c[this.b[b]]);return a};L.prototype.A=function(){fe(this);return this.b.concat()};
var he=function(a,b){return ge(a.c,b)};L.prototype.clear=function(){this.c={};this.f=this.a=this.b.length=0};L.prototype.remove=function(a){return ge(this.c,a)?(delete this.c[a],this.a--,this.f++,this.b.length>2*this.a&&fe(this),!0):!1};var fe=function(a){if(a.a!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];ge(a.c,d)&&(a.b[c++]=d);b++}a.b.length=c}if(a.a!=a.b.length){var e={};for(c=b=0;b<a.b.length;)d=a.b[b],ge(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}};
L.prototype.get=function(a,b){return ge(this.c,a)?this.c[a]:b};L.prototype.set=function(a,b){ge(this.c,a)||(this.a++,this.b.push(a),this.f++);this.c[a]=b};L.prototype.forEach=function(a,b){for(var c=this.A(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};L.prototype.K=function(a){fe(this);var b=0,c=this.f,d=this,e=new ae;e.next=function(){if(c!=d.f)throw Error("The map has changed since the iterator was created");if(b>=d.b.length)throw $d;var f=d.b[b++];return a?f:d.c[f]};return e};
var ge=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ie=function(a){if(a.u&&"function"==typeof a.u)return a.u();if("string"===typeof a)return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return db(a)},je=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(wa(a)||"string"===typeof a)Ia(a,b,void 0);else{if(a.A&&"function"==typeof a.A)var c=a.A();else if(a.u&&"function"==typeof a.u)c=void 0;else if(wa(a)||"string"===typeof a){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=eb(a);
d=ie(a);e=d.length;for(var f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};var ke=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,le=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var me=function(a,b){this.f=this.j=this.c="";this.h=null;this.g=this.b="";this.a=!1;if(a instanceof me){this.a=void 0!==b?b:a.a;ne(this,a.c);this.j=a.j;this.f=a.f;oe(this,a.h);this.b=a.b;b=a.i;var c=new pe;c.c=b.c;b.a&&(c.a=new L(b.a),c.b=b.b);qe(this,c);this.g=a.g}else a&&(c=String(a).match(ke))?(this.a=!!b,ne(this,c[1]||"",!0),this.j=re(c[2]||""),this.f=re(c[3]||"",!0),oe(this,c[4]),this.b=re(c[5]||"",!0),qe(this,c[6]||"",!0),this.g=re(c[7]||"")):(this.a=!!b,this.i=new pe(null,this.a))};
me.prototype.toString=function(){var a=[],b=this.c;b&&a.push(se(b,te,!0),":");var c=this.f;if(c||"file"==b)a.push("//"),(b=this.j)&&a.push(se(b,te,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.h,null!=c&&a.push(":",String(c));if(c=this.b)this.f&&"/"!=c.charAt(0)&&a.push("/"),a.push(se(c,"/"==c.charAt(0)?ue:ve,!0));(c=this.i.toString())&&a.push("?",c);(c=this.g)&&a.push("#",se(c,we));return a.join("")};
var ne=function(a,b,c){a.c=c?re(b,!0):b;a.c&&(a.c=a.c.replace(/:$/,""))},oe=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.h=b}else a.h=null},qe=function(a,b,c){b instanceof pe?(a.i=b,xe(a.i,a.a)):(c||(b=se(b,ye)),a.i=new pe(b,a.a))},ze=function(a){return a instanceof me?new me(a):new me(a,void 0)},re=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},se=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Ae),
c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Ae=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},te=/[#\/\?@]/g,ve=/[#\?:]/g,ue=/[#\?]/g,ye=/[#\?@]/g,we=/#/g,pe=function(a,b){this.b=this.a=null;this.c=a||null;this.f=!!b},Be=function(a){a.a||(a.a=new L,a.b=0,a.c&&le(a.c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};
pe.prototype.add=function(a,b){Be(this);this.c=null;a=Ce(this,a);var c=this.a.get(a);c||this.a.set(a,c=[]);c.push(b);this.b+=1;return this};pe.prototype.remove=function(a){Be(this);a=Ce(this,a);return he(this.a,a)?(this.c=null,this.b-=this.a.get(a).length,this.a.remove(a)):!1};pe.prototype.clear=function(){this.a=this.c=null;this.b=0};var De=function(a,b){Be(a);b=Ce(a,b);return he(a.a,b)};k=pe.prototype;
k.forEach=function(a,b){Be(this);this.a.forEach(function(c,d){Ia(c,function(e){a.call(b,e,d,this)},this)},this)};k.A=function(){Be(this);for(var a=this.a.u(),b=this.a.A(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.u=function(a){Be(this);var b=[];if("string"===typeof a)De(this,a)&&(b=Oa(b,this.a.get(Ce(this,a))));else{a=this.a.u();for(var c=0;c<a.length;c++)b=Oa(b,a[c])}return b};
k.set=function(a,b){Be(this);this.c=null;a=Ce(this,a);De(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};k.get=function(a,b){if(!a)return b;a=this.u(a);return 0<a.length?String(a[0]):b};k.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.A(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.u(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.c=a.join("&")};
var Ce=function(a,b){b=String(b);a.f&&(b=b.toLowerCase());return b},xe=function(a,b){b&&!a.f&&(Be(a),a.c=null,a.a.forEach(function(c,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<c.length&&(this.c=null,this.a.set(Ce(this,e),Qa(c)),this.b+=c.length))},a));a.f=b};p("castApp.core.setupApi.ConfiguredNetworkMsg",function(a,b,c,d){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.wpa_id=d});var Ee=function(a,b){this.ssid=a;this.wpa_auth=b};p("castApp.core.setupApi.ConnectWiFiMsg",Ee);var Fe=function(a,b,c,d,e,f,g,h,m,q,I){this.version=a;this.name=b;this.build_version=c;this.has_update=d;this.ssdp_udn=e;this.mac_address=f;this.connected=g;this.ssid=h;this.wpa_state=m;this.setup_state=q;this.wpa_configured=I};p("castApp.core.setupApi.EurekaInfoMsg34Base",Fe);
var Ge=function(a,b,c,d,e,f,g,h,m,q){Fe.call(this,3,a,b,c,d,e,f,g,h,m,q)};r(Ge,Fe);p("castApp.core.setupApi.EurekaInfoMsgV3",Ge);Ge.Location=function(a,b){this.latitude=a;this.longitude=b};var He=function(a,b,c){this.certificate=a;this.nonce=b;this.signed_data=c};Ge.Sign=He;var Ie=function(){};Ge.Detail=Ie;Ie.Timezone=function(a,b){this.display_string=a;this.offset=b};Ie.Locale=function(a){this.display_string=a};
var Je=function(a,b,c,d,e,f,g,h,m,q,I,C){Fe.call(this,a,b,c,d,e,f,g,h,m,q,I);this.uptime=C};r(Je,Fe);p("castApp.core.setupApi.EurekaInfoMsgV4",Je);
var Ke=function(a){v(a,"locale","en-US");v(a,"debug_build",!1);v(a,"update_only_build",!1);v(a,"ethernet_connected",!1);v(a,"tos_accepted",!0);v(a,"time_format",0);v(a,"hdmi_control",!0);"string"!==typeof a.hotspot_bssid&&a.mac_address&&5<=a.mac_address.length&&(a.hotspot_bssid="00:1A:11:FF:"+a.mac_address.substr(a.mac_address.length-5));if(a.opt_in){var b=a.opt_in;v(b,"crash",!0);v(b,"stats",!0);v(b,"device_id",!1);v(b,"location",!1);v(b,"opencast",!1)}return a};Je.SetupStats=function(){};
var Le=function(){};Je.Location=Le;var Me=function(){};Je.OptIn=Me;var Ne=function(a,b,c){He.call(this,a,b,c)};r(Ne,He);Je.Sign=Ne;var Oe=function(a){this.manufacturer="Google Inc.";this.model_name="Eureka Dongle";this.icon_list=a};r(Oe,Ie);Je.Detail=Oe;Oe.Icon=function(a,b,c,d){this.mimetype="image/png";this.width=a;this.height=b;this.depth=c;this.url=d};var Pe=function(){};p("castApp.core.setupApi.EurekaInfoMsgV7",Pe);
var Qe=function(a){if(a.device_info){var b=a.device_info;!b.hotspot_bssid&&b.mac_address&&(b.hotspot_bssid="00:1A:11:FF:"+b.mac_address.substr(b.mac_address.length-5));b.capabilities&&(b=b.capabilities,v(b,"display_supported",!0),v(b,"wifi_supported",!0),v(b,"wifi_regulatory_domain_locked",!1),v(b,"hotspot_supported",!0),v(b,"ble_supported",!1),v(b,"multizone_supported",!1))}a.net&&v(a.net,"ethernet_connected",!1);a.setup&&v(a.setup,"tos_accepted",!0);a.settings&&(b=a.settings,v(b,"time_format",1),
v(b,"locale","en-US"));return a};Pe.BuildInfo=function(){};var Re=function(){};Pe.DeviceInfo=Re;Re.Capabilities=function(){};Pe.OtaStatus=function(){};Pe.Net=function(){};Pe.WiFi=function(){};var Se=function(){};Pe.Setup=Se;Se.Stats=function(){};var Te=function(){};Pe.Settings=Te;var Ue=function(){};Pe.OptIn=Ue;Pe.OpenCast=function(){};Pe.Multizone=function(){};var Ve=function(a){this.wpa_id=a};p("castApp.core.setupApi.ForgetWiFiMsg",Ve);
p("castApp.core.setupApi.GetAppDeviceIdRequestMsg",function(a){this.app_id=a});p("castApp.core.setupApi.GetAppDeviceIdResponseMsg",function(a,b,c){this.app_device_id=a;this.certificate=b;this.signed_data=c});p("castApp.core.setupApi.OfferMsg",function(a){this.token=a});var We=function(a){this.sound_id=a};p("castApp.core.setupApi.PlaySoundRequestMsg",We);p("castApp.core.setupApi.PlaySoundResponseMsg",function(a,b){this.volume=a;this.duration=b});var Xe=function(a){this.params=a};
p("castApp.core.setupApi.RebootMsg",Xe);var Ye=function(a,b,c,d,e){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.bssid=d;this.signal_level=e};p("castApp.core.setupApi.ScanResultMsgBase",Ye);var Ze=function(a,b,c,d,e,f){Ye.call(this,a,b,c,d,e);this.ap_list=f};r(Ze,Ye);p("castApp.core.setupApi.ScanResultMsgV7",Ze);Ze.Ap=function(a,b,c){this.bssid=a;this.signal_level=b;this.frequency=c};var $e=function(){};p("castApp.core.setupApi.SaveWiFiRequestMsg",$e);
p("castApp.core.setupApi.SaveWiFiResponseMsg",function(a){this.setup_state=a});p("castApp.core.setupApi.SendLogReportRequestMsg",function(a){this.uuid=a});p("castApp.core.setupApi.SendLogReportResponseMsg",function(a){this.crash_report_id=a});var af=function(){};p("castApp.core.setupApi.SetEurekaInfoMsgBase",af);var bf=function(){};r(bf,af);p("castApp.core.setupApi.SetEurekaInfoMsgV3",bf);var cf=function(){};r(cf,af);p("castApp.core.setupApi.SetEurekaInfoMsgV4",cf);var df=function(){};r(df,af);
p("castApp.core.setupApi.SetEurekaInfoMsgV7",df);p("castApp.core.setupApi.SupportedLocale",function(a,b){this.locale=a;this.display_string=b});p("castApp.core.setupApi.SupportedTimeZone",function(a,b,c){this.timezone=a;this.display_string=b;this.offset=c});var ef=function(a){this.id=a};p("castApp.core.storage.SetupSession",ef);var ff=function(){};p("castApp.core.storage.CommonSetupState",ff);var gf=function(a){this.type=a.type;this.name=a.name;this.bssid=a.bssid;this.ssid=a.ssid;this.ipAddress=a.ipAddress};p("castApp.core.storage.DeviceToSetUp",gf);var hf=function(a){this.deviceIpAddress=a};p("castApp.core.storage.SetupApiClientState",hf);var jf=function(a){this.msg=a};p("castApp.core.storage.ConnectWiFiState",jf);
p("castApp.core.storage.EurekaInfoState",function(a,b,c,d,e,f,g,h){this.setupApiVersion=a;this.name=b;this.setupState=c;this.ssdpUdn=d;this.deviceType=e;this.features=f;this.ethernetConnected=g;this.tosAccepted=h});var kf=function(a,b){this.timeStamp=a;this.verificationProperties=b};p("castApp.core.storage.VerificationState",kf);var M=function(a){this.type=a};p("castApp.core.storage.SetupState",M);var lf=function(a,b){this.all=b;this.current=a};p("castApp.core.storage.SetupStateCollection",lf);
var mf=function(a,b,c){this.type=a;this.time=b;this.deviceId=c},nf=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&0==e.lastIndexOf("setupSession_",0)){a:{var f=a,g=f.getItem(e);if(g)try{var h=JSON.parse(g);break a}catch(m){f.removeItem(e)}h=null}h&&b.push(h)}}return b},of=function(){var a=Fa()-432E5;nf(window.localStorage).forEach(function(b){(!b.timestamp||b.timestamp<a)&&window.localStorage.removeItem("setupSession_"+b.id)})},pf=function(a,b){b.timestamp=Fa();a.setItem("setupSession_"+
b.id,JSON.stringify(b))},qf=function(a,b){a.removeItem("setupSession_"+b.id)},rf=function(a){var b=a.getItem("setupDeviceState");if(b)try{return JSON.parse(b)}catch(c){a.removeItem("setupDeviceState")}return[]},sf=function(a,b){0===b.length?a.removeItem("setupDeviceState"):a.setItem("setupDeviceState",JSON.stringify(b))},tf=function(a){return"false"===a.getItem("setupAutoNetworkSwitching")?!1:!0},uf=function(a,b){1===b?a.removeItem("castApp.analyticsOptIn"):a.setItem("castApp.analyticsOptIn",b.toString())};var vf=function(){},wf=function(){};r(wf,vf);wf.prototype.b=function(){};wf.prototype.f=function(){};wf.prototype.a=function(){return x(3)};wf.prototype.h=function(){};var xf=function(a){this.g=chrome.metricsPrivate;this.c=a};r(xf,vf);xf.prototype.b=function(a){this.g.recordUserAction("Cast.Chrome.App."+a.toString())};
xf.prototype.f=function(a){switch(a.eventType){case 1:var b="List";break;case 2:b="View";break;case 3:b="Redeem";break;default:return}b="Cast.Chrome.App.Offers."+b;if(void 0!==a.offerId){if("number"!==typeof a.offerId||0>a.offerId)return;b+="."+a.offerId}this.g.recordUserAction(b)};xf.prototype.a=function(){var a=parseInt(this.c.getItem("castApp.analyticsOptIn"),10);if(isNaN(a)||1>a||3<a)a=1;return x(a)};xf.prototype.h=function(a){a?(uf(this.c,2),this.b(1)):(uf(this.c,3),this.b(2))};var yf=function(){this.g=this.g;this.s=this.s};yf.prototype.g=!1;yf.prototype.aa=function(){this.g||(this.g=!0,this.C())};yf.prototype.C=function(){if(this.s)for(;this.s.length;)this.s.shift()()};var zf;(zf=!Eb)||(zf=9<=Number(Qb));var Af=zf,Bf=Eb&&!Pb("9"),Cf=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{l.addEventListener("test",n,b),l.removeEventListener("test",n,b)}catch(c){}return a}();var N=function(a,b){this.type=a;this.a=this.target=b;this.Ba=!0};N.prototype.b=function(){this.Ba=!1};var Ef=function(a,b){N.call(this,a?a.type:"");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.c=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;if(b=a.relatedTarget){if(Gb){a:{try{Bb(b.nodeName);var e=!0;break a}catch(f){}e=
!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=
a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Df[a.pointerType]||"";this.state=a.state;this.c=a;a.defaultPrevented&&this.b()}};r(Ef,N);var Df={2:"touch",3:"pen",4:"mouse"};Ef.prototype.b=function(){Ef.F.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Bf)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ff="closure_listenable_"+(1E6*Math.random()|0),Gf=function(a){return!(!a||!a[Ff])},Hf=0;var If=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.fa=e;this.key=++Hf;this.removed=this.$=!1},Jf=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.fa=null};var Kf=function(a){this.src=a;this.a={};this.b=0};Kf.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=Lf(a,b,d,e);-1<g?(b=a[g],c||(b.$=!1)):(b=new If(b,this.src,f,!!d,e),b.$=c,a.push(b));return b};Kf.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=Lf(e,b,c,d);return-1<b?(Jf(e[b]),Ma(e,b),0==e.length&&(delete this.a[a],this.b--),!0):!1};
var Mf=function(a,b){var c=b.type;c in a.a&&Na(a.a[c],b)&&(Jf(b),0==a.a[c].length&&(delete a.a[c],a.b--))};Kf.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Jf(d[e]);delete this.a[c];this.b--}return b};var Nf=function(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Lf(a,c,d,e));return-1<b?a[b]:null},Lf=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.fa==d)return e}return-1};var Of="closure_lm_"+(1E6*Math.random()|0),Pf={},Rf=0,Tf=function(a,b,c,d,e){if(d&&d.once)return Sf(a,b,c,d,e);if(va(b)){for(var f=0;f<b.length;f++)Tf(a,b[f],c,d,e);return null}c=Uf(c);return Gf(a)?a.listen(b,c,ya(d)?!!d.capture:!!d,e):Vf(a,b,c,!1,d,e)},Vf=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ya(e)?!!e.capture:!!e,h=Wf(a);h||(a[Of]=h=new Kf(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=Xf();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Cf||(e=g),void 0===e&&(e=
!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Yf(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Rf++;return c},Xf=function(){var a=Zf,b=Af?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Sf=function(a,b,c,d,e){if(va(b)){for(var f=0;f<b.length;f++)Sf(a,b[f],c,d,e);return null}c=Uf(c);return Gf(a)?a.c.add(String(b),
c,!0,ya(d)?!!d.capture:!!d,e):Vf(a,b,c,!0,d,e)},$f=function(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)$f(a,b[f],c,d,e);else d=ya(d)?!!d.capture:!!d,c=Uf(c),Gf(a)?O(a,b,c,d,e):a&&(a=Wf(a))&&(b=Nf(a,b,c,d,e))&&ag(b)},ag=function(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(Gf(b))Mf(b.c,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Yf(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Rf--;(c=Wf(b))?(Mf(c,
a),0==c.b&&(c.src=null,b[Of]=null)):Jf(a)}}},Yf=function(a){return a in Pf?Pf[a]:Pf[a]="on"+a},cg=function(a,b,c,d){var e=!0;if(a=Wf(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=bg(f,d),e=e&&!1!==f)}return e},bg=function(a,b){var c=a.listener,d=a.fa||a.src;a.$&&ag(a);return c.call(d,b)},Zf=function(a,b){if(a.removed)return!0;if(!Af){if(!b)a:{b=["window","event"];for(var c=l,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;
b=new Ef(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=cg(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=cg(d[e],a,!1,b),c=c&&f}return c}return bg(a,new Ef(b,this))},Wf=function(a){a=a[Of];return a instanceof Kf?a:null},dg="__closure_events_fn_"+(1E9*Math.random()>>>0),Uf=function(a){if(xa(a))return a;
a[dg]||(a[dg]=function(b){return a.handleEvent(b)});return a[dg]};var P=function(){yf.call(this);this.c=new Kf(this);this.Ha=this;this.P=null};r(P,yf);P.prototype[Ff]=!0;P.prototype.removeEventListener=function(a,b,c,d){$f(this,a,b,c,d)};
var Q=function(a,b){var c,d=a.P;if(d)for(c=[];d;d=d.P)c.push(d);a=a.Ha;d=b.type||b;if("string"===typeof b)b=new N(b,a);else if(b instanceof N)b.target=b.target||a;else{var e=b;b=new N(d,a);hb(b,e)}e=!0;if(c)for(var f=c.length-1;0<=f;f--){var g=b.a=c[f];e=eg(g,d,!0,b)&&e}g=b.a=a;e=eg(g,d,!0,b)&&e;e=eg(g,d,!1,b)&&e;if(c)for(f=0;f<c.length;f++)g=b.a=c[f],e=eg(g,d,!1,b)&&e};P.prototype.C=function(){P.F.C.call(this);this.c&&this.c.removeAll(void 0);this.P=null};
P.prototype.listen=function(a,b,c,d){return this.c.add(String(a),b,!1,c,d)};var O=function(a,b,c,d,e){a.c.remove(String(b),c,d,e)},eg=function(a,b,c,d){b=a.c.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,m=g.fa||g.src;g.$&&Mf(a.c,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.Ba};var fg=function(){t.call(this)};qa(fg,t);fg.prototype.name="httpTimeout";var gg=function(a,b){var c=z(),d=function(e){c.b(e)};a.listen(b,d);return A(c.a,function(){O(a,b,d)})},hg=function(a){if(a instanceof D)throw a;},ig=function(a,b){var c=setTimeout(function(){a.cancel()},b);A(a,function(){clearTimeout(c);c=null});return a},jg=function(){var a=z();ig(a.a,2E3);return a};if(Eb&&Eb)try{new ActiveXObject("MSXML2.DOMDocument")}catch(a){};var R=function(a){this.a=new L;if(a){a=ie(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}},kg=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[za]||(a[za]=++Aa)):b.substr(0,1)+a};k=R.prototype;k.add=function(a){this.a.set(kg(a),a)};k.removeAll=function(a){a=ie(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};k.remove=function(a){return this.a.remove(kg(a))};k.clear=function(){this.a.clear()};k.contains=function(a){return he(this.a,kg(a))};
var lg=function(a,b){a=new R(a);a.removeAll(b);return a};R.prototype.u=function(){return this.a.u()};R.prototype.K=function(){return this.a.K(!1)};var mg=function(a){t.call(this,a)};qa(mg,t);mg.prototype.name="chrome.runtime.lastError";var ng=function(a,b){this.onNetworksChanged=a;this.onNetworkListChanged=b};p("castApp.core.NetworkingPrivateApi.WiFiProperties",function(){});p("castApp.core.NetworkingPrivateApi.NetworkProperties",function(){});var og=[[0xfa8fca000000,0xfa8fcaffffff],[111971074048,111971139583]],pg=new function(a){this.b=new L;this.a=new L;for(var b=a.length,c=0;c<b;++c)this.b.set(a[c],a[c+1]),this.a.set(a[c+1],a[c])}(["a",4,"b",2,"c",3,"d",5,"e",6,"f",1,"g",7,"h",8,"i",9,"j",10,"k",11,"l",12,"m",13]),qg=new R("bcamde".split("")),rg=new R("adghjkl".split("")),sg=new R("bcamde".split("")),tg=new R(["b","c","a","m"]),ug=new R(["b","c","a","m"]),vg=new R(["d"]),wg=function(a,b){return!(!a||!b||0!==Wa(a,b))},xg=function(a){var b=
/^([0-9a-fA-F]{2}:){5}[0-9a-fA-F]{2}$/.test(a)?parseInt(xb(a),16):NaN;return!!Ka(og,function(c){return b>=c[0]&&b<=c[1]})},zg=function(a){return!a.WiFi||!a.WiFi.BSSID||a.WiFi.Security&&"None"!==a.WiFi.Security||!xg(a.WiFi.BSSID)?!1:qg.contains(yg(a.WiFi.SSID||"").type)},yg=function(a){var b=/^(.*)\.([^\.]*)$/.exec(a),c=null;return b&&3===b.length&&(c=Ag(b[2]))?{name:b[1],type:c.type,subtype:c.subtype}:{name:a,type:"c",subtype:null}},Ag=function(a){a=/^([a-m])(\d{0,3})$/.exec(a);if(!a||3!==a.length)return null;
var b=parseInt(a[2],10);return{type:a[1],subtype:isNaN(b)?null:b}},Bg=function(a,b){var c=new gd;c.supportsSetup=qg.contains(a);b&&!1===b.setup_supported&&(c.supportsSetup=!1);c.supportsDisplay=!rg.contains(a);b&&void 0!==b.display_supported&&(c.supportsDisplay=!!b.display_supported);if(sg.contains(a)){var d=c.deviceSettings=new fd;d.supportsForgetWiFi=!0;b&&!1===b.wifi_supported&&(d.supportsForgetWiFi=!1);c.supportsSetup||(d.supportsForgetWiFi=!1);d.supportsReboot=tg.contains(a);b&&void 0!==b.reboot_supported&&
(d.supportsReboot=!!b.reboot_supported);d.supportsFdr=ug.contains(a);b&&void 0!==b.fdr_supported&&(d.supportsFdr=!!b.fdr_supported);c.supportsSetup||(d.supportsFdr=!1);d.supportsDataCollectionToggle=!0;b&&void 0!==b.stats_supported&&(d.supportsDataCollectionToggle=!!b.stats_supported);d.supportsTimeFormatChange=!0;c.supportsDisplay||(d.supportsTimeFormatChange=!1);d.supportsOtherLicenses=!vg.contains(a)}return c},Cg=function(a){return pg.b.get(a)||3},Dg=function(a){switch(a){case 2:case 3:case 4:return 3;
case 5:case 6:return 4;case 7:case 8:return 5}return 2},Eg=function(a){switch(a){case 2:return 1;case 3:return 2;case 4:return 5;case 5:return 7}return 0},Fg=function(a){switch(a){case chrome.cast.media.PlayerState.PLAYING:return 2;case chrome.cast.media.PlayerState.PAUSED:return 3;case chrome.cast.media.PlayerState.BUFFERING:return 4}return 1},Gg=function(a){switch(a){case chrome.cast.SessionStatus.CONNECTED:return 1;case chrome.cast.SessionStatus.STOPPED:return 3}return 2},Hg=function(a,b){var c=
2;1===a.a?c=3:2===a.a&&(c=4);b=new ad(c,b,[],null);b.selectedNetwork=new $c(a.b||null,a.msg.ssid,Dg(a.msg.wpa_auth));a.b&&b.networks.push(b.selectedNetwork);return b},Ig=function(a,b,c){switch(a){case 3:return c=new bf,c.name=b,c;case 4:case 5:case 6:return a=new cf,a.name=b,a.opt_in=new Me,a.opt_in.crash=a.opt_in.stats=c,a;default:return a=new df,a.name=b,a.opt_in=new Ue,a.opt_in.stats=c,a}},Jg=function(a){return"E8C28D3C"==a||"00000000-0000-0000-0000-000000000000"==a};var Kg=function(){},Mg=function(){this.b={};this.a={};Lg||(Lg=new w(function(a,b){window.__onGCastApiAvailable=function(d){d?a():b()}.bind(this);var c=document.createElement("script");c.setAttribute("src",chrome.extension.getURL("cast_sender.js"));document.head.appendChild(c)}.bind(this)))};r(Mg,Kg);
var Lg=null,Ng=function(a,b,c){return Lg.then(function(){var d=b+c,e=this.b[d];if(e)return e.a;e=jg();this.b[d]=e;var f=this.a[d];f||(f=new chrome.cast.SessionRequest(b),f=new chrome.cast.ApiConfig(f,this.c.bind(this),n,chrome.cast.AutoJoinPolicy.CUSTOM_CONTROLLER_SCOPED),f.invisibleSender=!Jg(b),f=chrome.cast.initializeWithContext(f,n,function(){}.bind(this)),this.a[d]=f);chrome.cast.requestSessionByIdWithContext(f,c);return e.a}.bind(a))};
Mg.prototype.c=function(a){var b=a.appId+a.sessionId,c=this.b[b];c&&c.b({session:a,context:this.a[b]})};var Og=function(){ng.call(this,chrome.networkingPrivate.onNetworksChanged,chrome.networkingPrivate.onNetworkListChanged)};r(Og,ng);Og.a=void 0;Og.b=function(){return Og.a?Og.a:Og.a=new Og};var Pg=function(a){return chrome.runtime.lastError?(a.c(new mg(chrome.runtime.lastError.message)),!0):!1};k=Og.prototype;k.getNetworks=function(a){var b=z();chrome.networkingPrivate.getNetworks(a,function(c){Pg(b)||b.b(c)});return b.a};
k.getProperties=function(a){var b=z();chrome.networkingPrivate.getProperties(a,function(c){Pg(b)||b.b(c)});return b.a};k.requestNetworkScan=function(){chrome.networkingPrivate.requestNetworkScan()};k.startConnect=function(a){var b=z();chrome.networkingPrivate.startConnect(a,function(){Pg(b)||b.b()});return b.a};k.startDisconnect=function(a){var b=z();chrome.networkingPrivate.startDisconnect(a,function(){Pg(b)||b.b()});return b.a};
k.verifyDestination=function(a){var b=z();chrome.networkingPrivate.verifyDestination(a,function(c){Pg(b)||b.b(c)});return b.a};k.verifyAndEncryptData=function(a,b){var c=z();chrome.networkingPrivate.verifyAndEncryptData(a,b,function(d){Pg(c)||c.b(d)});return c.a};var Qg=function(){this.a=new R},Rg=function(a,b){a.a.add(b);return A(b,function(){this.a.remove(b)}.bind(a))},Sg=function(a){if(0==a.a.a.a)return x();var b=a.a;a.a=new R;return new w(function(c){ce(b,function(d){A(d,function(){b.remove(d)&&0==b.a.a&&c()});d.cancel()})})};var S=function(a,b){this.h=a;this.g=b;this.f=new Qg;this.c=new P;this.a="stopped"};S.prototype.getState=function(){return this.a};S.prototype.b=function(a){a!==this.a&&(this.a=a,Q(this.c,a))};S.prototype.start=function(){switch(this.a){case "stopped":case "stopping":return this.restart();case "starting":case "stoppingStartPending":return Tg(this);case "started":return x();default:return x()}};
S.prototype.restart=function(){switch(this.a){case "starting":case "started":this.b("stoppingStartPending");Ug(this);break;case "stopping":this.b("stoppingStartPending");break;case "stopped":this.b("starting"),Vg(this)}return Tg(this)};var Tg=function(a){var b=new Qg;return A(B(new w(function(c,d){Rg(b,gg(this.c,"started")).then(function(){c()});Rg(b,gg(this.c,"stopped")).then(function(){d()})}.bind(a)),function(c){c instanceof D&&this.stop();throw c;},a),function(){Sg(b)})};
S.prototype.stop=function(){if("stopped"===this.a)return x();var a=this.a;this.b("stopping");"starting"!==a&&"started"!==a||Ug(this);return gg(this.c,"stopped")};
var T=function(a,b){if("starting"===a.a||"started"===a.a)return Rg(a.f,b),b;b.cancel();return jc(new D)},Wg=function(a){return"started"===a.a?x():gg(a.c,"started")},Ug=function(a){Sg(a.f).then(function(){try{if(this.g)return this.g()}catch(b){}}.bind(a)).then(function(){"stoppingStartPending"===this.a?(this.b("starting"),Vg(this)):this.b("stopped")}.bind(a))},Vg=function(a){var b=null;try{b=a.h()}catch(c){b=jc(c)}"starting"!==a.a?b.cancel():B(Rg(a.f,b).then(a.b.bind(a,"started")),function(){this.stop()}.bind(a))};var Xg=function(a,b,c){if(xa(a))c&&(a=Da(a,c));else if(a&&"function"==typeof a.handleEvent)a=Da(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},U=function(a){var b=null;return B(new w(function(c,d){b=Xg(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(c){l.clearTimeout(b);throw c;})};var mh=function(a){Yg||(Yg=new L("SetupStart.ShowDevice",Zg,"WiFiSwitching.ConnectHotSpot",$g,"WiFiSwitching.ReconnectWiFi",ah,"CodeConfirmation.Request",bh,"DeviceConfig.Request",ch,"DeviceConfig.Response",dh,"WiFiConfig.Show",eh,"WiFiConfig.UpdateNetworks",fh,"WiFiConfig.Connect",gh,"WiFiConfig.Retry",hh,"Devices.Show",ih,"Devices.UserAction",jh,"DeviceSettings.Show",kh,"DeviceSettings.Apply",lh),"Error Handshake.Request Handshake.Response Handshake.UiVersionNotSupported OfflineUiReady SetupSessionTakeoverConfirmed SetSimpleState ModalDialog.Request ModalDialog.Response ShowGenericSetupError DeviceDiscovery.ShowScanner DeviceDiscovery.NotFound SetupStart.Proceed SetupStart.TosAccepted WiFiSwitching.Proceed WiFiSwitching.RetryConnection BadDeviceAck CodeConfirmation.Response AudioConfirmation.PromptUser AudioConfirmation.UserAction WiFiConfig.ErrorAck OtaUpdate.Pending OtaUpdate.Done OtaUpdate.Proceed DeviceSettings.Reboot DeviceSettings.FactoryReset DeviceSettings.ForgetWiFi DeviceSettings.Exit RestartSetup GoToDeviceList DetectCountry.Request DetectCountry.Response Offers.Show Offers.Scan Offers.ScanResults Offers.Redeem Offers.AnalyticsEvent".split(" ").forEach(function(b){Yg.set(b,
function(c){return x(c)})}));return Yg.get(a.type)(a).then(function(b){return JSON.stringify(b)})},Yg=null,Zg=function(a){return E(a.deviceName).then(function(b){b=new Lc(a.state,a.deviceType,b);b.otherDevicesExist=a.otherDevicesExist;b.analyticsOptIn=a.analyticsOptIn;return b})},$g=function(a){return y([E(a.deviceName),E(a.ssid)]).then(function(b){return new Oc(a.state,b[0],b[1])})},ah=function(a){return E(a.ssid).then(function(b){return new Pc(a.state,b)})},bh=function(a){return y(a.code.map(E)).then(function(b){return new Rc(b)})},
ch=function(a){return E(a.name).then(function(b){return new Xc(a.deviceType,b,a.country)})},dh=function(a){return E(a.name).then(function(b){return{requestId:a.responseTo,name:b,a:a.country}})},nh=function(a){return y([a.id?E(a.id):null,E(a.ssid)]).then(function(b){var c=ja(b);b=c.next().value;c=c.next().value;return new $c(b,c,a.security)})},eh=function(a){return y([y(a.networks.map(nh)),a.selectedNetwork?nh(a.selectedNetwork):null]).then(function(b){var c=ja(b);b=c.next().value;c=c.next().value;
return new ad(a.state,a.deviceType,b,c)})},fh=function(a){return y(a.networks.map(nh)).then(function(b){return new bd(b)})},gh=function(a){return nh(a.network).then(function(b){return new cd(b,"********")})},hh=function(a){return nh(a.network).then(function(b){return new dd(b)})},oh=function(a){return y([E(a.id),E(a.displayName)]).then(function(b){var c=ja(b);b=c.next().value;c=c.next().value;var d=fb(a);d.id=b;d.displayName=c;return d})},ih=function(a){return y([y(a.devices.map(oh)),a.deviceName?
E(a.deviceName):void 0]).then(function(b){var c=ja(b);b=c.next().value;c=c.next().value;return new jd(b,c)})},jh=function(a){return oh(a.device).then(function(b){return new kd(b,a.action)})},kh=function(a){return y([E(a.name),E(a.ssid||""),E(a.macAddress),E(a.ipAddress)]).then(function(b){var c=ja(b);b=c.next().value;var d=c.next().value,e=c.next().value;c=c.next().value;return new od(a.state,a.features,{deviceType:a.deviceType,name:b,ssid:a.ssid?d:null,timeZoneId:a.timeZoneId,supportedTimeZones:a.supportedTimeZones,
timeFormat:a.timeFormat,localeId:a.localeId,supportedLocales:a.supportedLocales,statsOptIn:a.statsOptIn,firmwareVersion:a.firmwareVersion,countryCode:a.countryCode,macAddress:e,ipAddress:c})})},lh=function(a){return E(a.name).then(function(b){var c=new pd(a);c.name=b;return c})};var ph=function(){this.a={};this.b={};this.c=new R};ph.prototype.sendMessage=function(a){a.responseTo?this.c.contains(a.responseTo)&&(this.c.remove(a.responseTo),qh(this,a)):qh(this,a)};ph.prototype.sendRequest=function(a,b){var c=z();this.a[a.requestId]={I:c,Da:b?setTimeout(Da(this.i,this,a.requestId),b):null};qh(this,a);return c.a};ph.prototype.i=function(a){a in this.a&&(this.a[a].I.a.cancel(),delete this.a[a])};ph.prototype.addListener=function(a,b){var c=this.b[a];c||(c=this.b[a]=new R);c.add(b)};
var rh=function(a,b){var c=z(),d=Da(function(e){c.b(e)},a);a.addListener(b,d);return A(c.a,function(){this.removeListener(b,d)}.bind(a))};ph.prototype.removeListener=function(a,b){(a=this.b[a])&&a.remove(b)};var sh=function(a,b){if(b.requestId)a.c.add(b.requestId);else if(b.responseTo){var c=a.a[b.responseTo];c&&(delete a.a[b.responseTo],null!==c.Da&&clearTimeout(c.Da),b instanceof yc?c.I.c(b):c.I.b(b))}var d=a.b[b.type];d&&d.u().forEach(function(e){d.contains(e)&&e(b)})};var th=function(a,b,c,d,e){ph.call(this);this.f="object"===typeof b?b:null;this.j="function"===typeof b?b:null;this.h=c;this.m=d||n;this.g=e||function(f){return x(JSON.stringify(f))};a.addEventListener("message",this.l.bind(this))};r(th,ph);th.prototype.l=function(a){a.origin===this.h?(this.g(a.data),sh(this,a.data)):this.m()};var qh=function(a,b){a.g(b);a.f=a.f||a.j();a.f.postMessage(b,a.h)};var uh=function(a,b,c,d){this.f=new P;this.h=new S(c,d);this.c=a;this.B=b+"/v6";this.w=b;this.g=[]},vh=function(){N.call(this,"redirect")};r(vh,N);uh.prototype.start=function(){return this.h.start().then(this.s.bind(this))};uh.prototype.stop=function(){return this.h.stop()};uh.prototype.j=function(a){0<=Ga(this.g,a)||this.g.push(a)};
var wh=function(a){var b=a.localStorage.getItem("castApp.uiOrigin")||"https://castappui.google.com";uh.call(this,a,b,this.m.bind(this),this.l.bind(this));this.a=this.b=null;this.i=[["newwindow",this.v.bind(this)],["loadredirect",this.o.bind(this)]]};r(wh,uh);var xh=["exit","loadabort","unresponsive"];wh.prototype.s=function(){return this.a};
var yh=function(a){var b=setInterval(function(){document.activeElement===this.b?clearInterval(b):this.b.focus()}.bind(a),20);window.addEventListener("focus",a.b.focus.bind(a.b),!0)};
wh.prototype.m=function(){var a=this,b=z(),c=b.c.bind(b),d=a.c.document.querySelector("#cast-app-ui");d||(d=a.c.document.createElement("webview"),d.setAttribute("id","cast-app-ui"),d.setAttribute("src",a.B));xh.forEach(function(f){d.addEventListener(f,c)});var e=function(){var f=d.contentWindow;a.b=d;a.a=new th(a.c,f,a.w,function(){Q(a.f,new N("originViolation"))},mh);b.b();yh(a)};d.addEventListener("contentload",e);A(b.a,function(){xh.forEach(function(f){d.removeEventListener(f,c)});d.removeEventListener("contentload",
e)});a.i.forEach(function(f){d.addEventListener.apply(d,f)});d.parentElement||a.c.document.body.appendChild(d);a.b=d;return b.a};wh.prototype.l=function(){this.a=null;if(this.b&&this.b.parentElement){var a=this.b;this.b=null;a.parentElement.removeChild(a);this.i.forEach(function(b){a.removeEventListener.apply(a,b)})}return x()};wh.prototype.o=function(a){Q(this.f,new vh(a.newUrl,a.oldUrl))};
wh.prototype.v=function(a){var b=a.targetUrl,c=a.windowOpenDisposition,d=ze(b),e=d.c,f=d.f;d="https"===e&&("www.google.com"===f||"support.google.com"===f||"chromecast.com"===f)||"http"===e&&Ud(f)&&8008===d.h&&"/setup/NOTICE.html.gz"===d.b;!d&&0<=Ga(this.g,b)&&(d=!0);e="new_foreground_tab"===c;d&&(e||"new_background_tab"===c)&&chrome.tabs.create({url:b,active:e});a.window.discard()};var zh=function(a,b,c,d,e,f,g,h,m,q,I){this.b=b;this.g=c;this.f=a.localStorage;this.l=d;this.c=e;this.m=m;this.j=f;this.reload=g;this.i=h;this.h=q;this.a=I};var Ah=function(a){this.a=this.b=this.c=a};Ah.prototype.reset=function(){this.a=this.b=this.c};var Bh=function(a){a.a=Math.min(6E4,2*a.a);a.b=Math.min(6E4,a.a+0)};var Ch=function(a,b){this.type="cast_app";this.originId=window["castApp.eventPage.Message.OriginID"]||void 0;this.subtype=a;this.devices=b;this.logRecord=this.deviceJustSetUp=void 0};p("castApp.eventPage.Message",Ch);Ch.DeviceData=function(a,b,c){this.ipAddress=a;this.appId=b;this.sessionId=c};var Dh=function(a,b,c,d){this.ipAddress=a;this.name=b;this.udn=c;this.modelName=d};Ch.DeviceJustSetUp=Dh;var Eh=function(){};Ch.DeviceCapabilities=Eh;
Ch.LogRecord=function(a,b,c,d){this.levelValue=a;this.msg=b;this.loggerName=c;this.time=d};var Hh=function(a){a.devices||a.deviceJustSetUp?y([a.devices?Fh(a.devices):void 0,a.deviceJustSetUp?Gh(a.deviceJustSetUp):void 0]).then(function(b){var c=ja(b);b=c.next().value;c=c.next().value;var d=fb(a);d.devices=b;d.deviceJustSetUp=c;return JSON.stringify(d)}):x(JSON.stringify(a))},Fh=function(a){return y(a.map(function(b){return E(b.ipAddress).then(function(c){var d=fb(b);d.ipAddress=c;return d})}))},Gh=function(a){return y([E(a.ipAddress),E(a.name),E(a.udn)]).then(function(b){var c=ja(b);b=
c.next().value;var d=c.next().value;c=c.next().value;b=new Dh(b,d,c,a.modelName);a.capabilities&&(b.capabilities=a.capabilities);return b})};var Ih=function(){P.call(this)};r(Ih,P);var Jh=function(a){N.call(this,a.subtype);this.msg=a};r(Jh,N);var Kh=function(){this.b=new Ah(100);this.f=null;P.call(this)};r(Kh,Ih);var Lh=null;
Kh.prototype.start=function(){var a=this;Lh||(chrome.runtime.onMessage.addListener(this.h.bind(this)),Lh=B(A(new w(function(b,c){chrome.runtime.getBackgroundPage(function(){chrome.runtime.lastError?c(new mg(chrome.runtime.lastError.message)):(window["castApp.eventPage.Message.OriginID"]=yb(),a.a(),gg(a,"serviceReady").then(function(){b()},c))})}),function(){clearTimeout(a.f)}),function(b){throw b;}));return Lh};
Kh.prototype.a=function(){Mh("serviceCheck");this.f=setTimeout(this.a.bind(this),this.b.b);Bh(this.b)};Kh.prototype.sendMessage=function(a){return this.start().then(function(){Mh(a)})};var Mh=function(a){a=ya(a)?a:new Ch(a);"logRecord"!==a.subtype&&Hh(a);chrome.runtime.sendMessage(a)},Nh=function(a){a.sendMessage("startDeviceMonitor")};Kh.prototype.h=function(a){"object"===typeof a&&"cast_app"===a.type&&"logRecord"!==a.subtype&&(Hh(a),Q(this,new Jh(a)));return!1};var Oh=function(a){return(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):""},Ph=function(a){return(a=a.match(/[-_]([a-zA-Z]{2}|\d{3})([-_]|$)/))?a[0].replace(/[_-]/g,""):""};var Qh=ib(),Rh=Ab()||u("iPod"),Sh=u("iPad"),Th=u("Android")&&!(jb()||ib()||u("Opera")||u("Silk")),Uh=jb(),Vh=u("Safari")&&!(jb()||u("Coast")||u("Opera")||u("Edge")||u("Edg/")||u("OPR")||ib()||u("Silk")||u("Android"))&&!(Ab()||u("iPad")||u("iPod"));var Wh=function(a){return(a=a.exec(Za))?a[1]:""},Xh=function(){if(Qh)return Wh(/Firefox\/([0-9.]+)/);if(Eb||Fb||Db)return Nb;if(Uh)return Ab()||u("iPad")||u("iPod")?Wh(/CriOS\/([0-9.]+)/):Wh(/Chrome\/([0-9.]+)/);if(Vh&&!(Ab()||u("iPad")||u("iPod")))return Wh(/Version\/([0-9.]+)/);if(Rh||Sh){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Za);if(a)return a[1]+"."+a[2]}else if(Th)return(a=Wh(/Android\s+([0-9.]+)/))?a:Wh(/Version\/([0-9.]+)/);return""}();var Yh={},Zh=null,ai=function(a){var b=[];$h(a,function(c){b.push(c)});return b},$h=function(a,b){function c(m){for(;d<a.length;){var q=a.charAt(d++),I=Zh[q];if(null!=I)return I;if(!/^[\s\xa0]*$/.test(q))throw Error("Unknown base64 encoding at char: "+q);}return m}bi();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},bi=function(){if(!Zh){Zh={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),
b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));Yh[c]=d;for(var e=0;e<d.length;e++){var f=d[e];void 0===Zh[f]&&(Zh[f]=e)}}}};var ci=function(){this.b=-1};var di=function(){this.b=64;this.a=[];this.h=[];this.i=[];this.f=[];this.f[0]=128;for(var a=1;a<this.b;++a)this.f[a]=0;this.g=this.c=0;this.reset()};r(di,ci);di.prototype.reset=function(){this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.a[4]=3285377520;this.g=this.c=0};
var ei=function(a,b,c){c||(c=0);var d=a.i;if("string"===typeof b)for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.a[0];c=a.a[1];var g=a.a[2],h=a.a[3],m=a.a[4];for(e=0;80>e;e++){if(40>e)if(20>e){f=h^c&(g^h);var q=1518500249}else f=c^g^h,q=1859775393;else 60>e?(f=c&g|h&(c|g),q=2400959708):
(f=c^g^h,q=3395469782);f=(b<<5|b>>>27)+f+m+q+d[e]&4294967295;m=h;h=g;g=(c<<30|c>>>2)&4294967295;c=b;b=f}a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+c&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+h&4294967295;a.a[4]=a.a[4]+m&4294967295};
di.prototype.update=function(a,b){if(null!=a){void 0===b&&(b=a.length);for(var c=b-this.b,d=0,e=this.h,f=this.c;d<b;){if(0==f)for(;d<=c;)ei(this,a,d),d+=this.b;if("string"===typeof a)for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.b){ei(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.b){ei(this,e);f=0;break}}this.c=f;this.g+=b}};var fi=function(a,b){if(b+1>=a.length)return null;if(!(a[b+1]&128))return{length:a[b+1],ka:1};var c=a[b+1]&127;if(b+c+1>=a.length||2<c)return null;for(var d=0,e=2;e<=c+1;e++)d=d<<8|a[b+e];return{length:d,ka:c+1}},gi=function(a){var b=[{action:"step",code:48,optional:!1},{action:"step",code:48,optional:!1},{action:"skip",code:160,optional:!0},{action:"skip",code:2,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",
code:48,optional:!1},{action:"return",code:48,optional:!1}],c=0,d=-1;if(65535<a.length)return null;for(;b.length;){var e=b.shift();d++;if(a[c]!=e.code){if(e.optional)continue;break}var f=fi(a,c);if(!f)break;var g=c+f.length+f.ka;if(g>=a.length)break;switch(e.action){case "step":c+=f.ka+1;continue;case "skip":c=g+1;continue;case "return":return Sa(a,c,g+1);default:return null}}return null},hi=function(a){for(var b=a.length,c=0,d=0;d<b-1;d++)c+=a[d];c=(a[b-1]+16*c)%24;a=65+c;73<=a&&a++;79<=a&&a++;return String.fromCharCode(a)},
ii=function(a){return String.fromCharCode(50+a[a.length-1]%8)},ji=function(a,b){for(var c=[],d=0;4>d;d++)c[d]=a[b+d]^a[16+d];return c};var ki=function(a){this.a=a},li=function(a,b,c,d){if(!a.f(d))return jc();var e=a.b(d.bssid);if(!e||!a.c(c))return jc();a=b.verifyDestination(e);B(a,function(){});return a.then(function(f){if(!f)return jc();f=new kf((new Date).getTime(),e);var g=e.certificate.replace(/[\r\n]/g,"");g=g.replace("-----BEGIN CERTIFICATE-----","");g=g.replace("-----END CERTIFICATE-----","");try{var h=ai(g)}catch(C){h=null}if(h)if(g=gi(h)){h=new di;h.update(g);g=[];var m=8*h.g;56>h.c?h.update(h.f,56-h.c):h.update(h.f,h.b-
(h.c-56));for(var q=h.b-1;56<=q;q--)h.h[q]=m&255,m/=256;ei(h,h.h);for(q=m=0;5>q;q++)for(var I=24;0<=I;I-=8)g[m]=h.a[q]>>I&255,++m;g?(h=[],h[0]=hi(ji(g,0)),h[1]=ii(ji(g,4)),h[2]=hi(ji(g,8)),h[3]=ii(ji(g,12))):h=null}else h=null;else h=null;if(!h)return jc();f.pin=h;return f})},mi=function(a){this.a=a};r(mi,ki);mi.prototype.f=function(a){return a.ssid===this.a.name};mi.prototype.c=function(){return!0};
mi.prototype.b=function(a){var b=this.a,c={};if(!(b.public_key&&b.ssdp_udn&&b.name&&b.sign&&b.sign.certificate&&b.sign.nonce&&b.sign.signed_data))return null;c.certificate=b.sign.certificate;c.publicKey=b.public_key;c.nonce=b.sign.nonce;c.signedData=b.sign.signed_data;c.deviceSerial=b.ssdp_udn;c.deviceSsid=b.name;c.deviceBssid=a;return c};var ni=function(a){this.a=a};r(ni,ki);ni.prototype.f=function(a){var b=this.a.hotspot_bssid.toLowerCase();return a.ssid===this.a.name&&a.bssid.toLowerCase()===b};
ni.prototype.c=function(a){return!(!this.a.sign||this.a.sign.nonce!==a)};
ni.prototype.b=function(){var a=this.a,b={};if(!(a.public_key&&a.ssdp_udn&&a.name&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data&&a.hotspot_bssid))return null;b.certificate=a.sign.certificate;b.publicKey=a.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.hotspot_bssid;a.sign.intermediate_certs&&0<=Ya(Xh,42)&&(b.intermediateCertificates=a.sign.intermediate_certs);return b};var oi=function(a){this.a=a};
r(oi,ki);oi.prototype.f=function(a){var b=this.a;if(!b.name||!b.device_info||!b.device_info.hotspot_bssid)return!1;var c=b.name;b.setup&&b.setup.ssid_suffix&&"c"!==b.setup.ssid_suffix&&(c+="."+b.setup.ssid_suffix);return a.ssid===c&&wg(b.device_info.hotspot_bssid,a.bssid)};oi.prototype.c=function(a){return!(!this.a.sign||this.a.sign.nonce!==a)};
oi.prototype.b=function(){var a=this.a,b={};if(!(a.name&&a.device_info&&a.device_info.public_key&&a.device_info.ssdp_udn&&a.device_info.hotspot_bssid&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data))return null;b.certificate=a.sign.certificate;b.publicKey=a.device_info.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.device_info.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.device_info.hotspot_bssid;a.sign.intermediate_certs&&0<=Ya(Xh,42)&&(b.intermediateCertificates=
a.sign.intermediate_certs);return b};var pi=function(){};pi.prototype.a=null;var ri=function(a){var b;(b=a.a)||(b={},qi(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var si,ti=function(){};r(ti,pi);var ui=function(a){return(a=qi(a))?new ActiveXObject(a):new XMLHttpRequest},qi=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b};si=new ti;var V=function(a){P.call(this);this.headers=new L;this.w=a||null;this.b=!1;this.v=this.a=null;this.H="";this.h=0;this.f=this.G=this.m=this.B=!1;this.l=0;this.o=null;this.j="";this.R=this.i=!1};r(V,P);var vi=/^https?$/i,wi=["POST","PUT"];V.prototype.wa=function(){return this.j};V.prototype.xa=function(){return this.i};
V.prototype.send=function(a,b,c,d){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET";this.H=a;this.h=0;this.B=!1;this.b=!0;this.a=this.w?ui(this.w):ui(si);this.v=this.w?ri(this.w):ri(si);this.a.onreadystatechange=Da(this.oa,this);try{this.G=!0,this.a.open(b,String(a),!0),this.G=!1}catch(f){xi(this);return}a=c||"";var e=new L(this.headers);d&&je(d,function(f,g){e.set(g,f)});d=Ka(e.A(),yi);c=l.FormData&&a instanceof l.FormData;
!(0<=Ga(wi,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(f,g){this.a.setRequestHeader(g,f)},this);this.j&&(this.a.responseType=this.j);"withCredentials"in this.a&&this.a.withCredentials!==this.i&&(this.a.withCredentials=this.i);try{zi(this),0<this.l&&((this.R=Ai(this.a))?(this.a.timeout=this.l,this.a.ontimeout=Da(this.X,this)):this.o=Xg(this.X,this.l,this)),this.m=!0,this.a.send(a),this.m=!1}catch(f){xi(this)}};
var Ai=function(a){return Eb&&Pb(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout},yi=function(a){return"content-type"==a.toLowerCase()};V.prototype.X=function(){"undefined"!=typeof ta&&this.a&&(this.h=8,Q(this,"timeout"),this.abort(8))};var xi=function(a){a.b=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=5;Bi(a);Ci(a)},Bi=function(a){a.B||(a.B=!0,Q(a,"complete"),Q(a,"error"))};
V.prototype.abort=function(a){this.a&&this.b&&(this.b=!1,this.f=!0,this.a.abort(),this.f=!1,this.h=a||7,Q(this,"complete"),Q(this,"abort"),Ci(this))};V.prototype.C=function(){this.a&&(this.b&&(this.b=!1,this.f=!0,this.a.abort(),this.f=!1),Ci(this,!0));V.F.C.call(this)};V.prototype.oa=function(){this.g||(this.G||this.m||this.f?Di(this):this.Ia())};V.prototype.Ia=function(){Di(this)};
var Di=function(a){if(a.b&&"undefined"!=typeof ta&&(!a.v[1]||4!=Ei(a)||2!=a.getStatus()))if(a.m&&4==Ei(a))Xg(a.oa,0,a);else if(Q(a,"readystatechange"),4==Ei(a)){a.b=!1;try{Fi(a)?(Q(a,"complete"),Q(a,"success")):(a.h=6,a.getStatus(),Bi(a))}finally{Ci(a)}}},Ci=function(a,b){if(a.a){zi(a);var c=a.a,d=a.v[0]?n:null;a.a=null;a.v=null;b||Q(a,"ready");try{c.onreadystatechange=d}catch(e){}}},zi=function(a){a.a&&a.R&&(a.a.ontimeout=null);a.o&&(l.clearTimeout(a.o),a.o=null)},Fi=function(a){var b=a.getStatus();
a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.H).match(ke)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!vi.test(a?a.toLowerCase():"");c=b}return c},Ei=function(a){return a.a?a.a.readyState:0};V.prototype.getStatus=function(){try{return 2<Ei(this)?this.a.status:-1}catch(a){return-1}};V.prototype.ca=function(){try{return this.a?this.a.responseText:""}catch(a){return""}};
V.prototype.getResponseHeader=function(a){if(this.a&&4==Ei(this))return a=this.a.getResponseHeader(a),null===a?void 0:a};var Gi=function(a){var b={};a=(a.a&&4==Ei(a)?a.a.getAllResponseHeaders()||"":"").split("\r\n");for(var c=0;c<a.length;c++)if(!/^[\s\xa0]*$/.test(a[c])){var d=zb(a[c]),e=d[0];d=d[1];if("string"===typeof d){d=d.trim();var f=b[e]||[];b[e]=f;f.push(d)}}return cb(b,function(g){return g.join(", ")})};var Hi=function(a){yf.call(this);this.b=a;this.a={}};r(Hi,yf);var Ii=[];Hi.prototype.listen=function(a,b,c,d){va(b)||(b&&(Ii[0]=b.toString()),b=Ii);for(var e=0;e<b.length;e++){var f=Tf(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};
var Ji=function(a,b,c,d,e,f){if(va(c))for(var g=0;g<c.length;g++)Ji(a,b,c[g],d,e,f);else d=d||a.handleEvent,e=ya(e)?!!e.capture:!!e,f=f||a.b||a,d=Uf(d),e=!!e,c=Gf(b)?Nf(b.c,String(c),d,e,f):b?(b=Wf(b))?Nf(b,c,d,e,f):null:null,c&&(ag(c),delete a.a[c.key])};Hi.prototype.removeAll=function(){bb(this.a,function(a,b){this.a.hasOwnProperty(b)&&ag(a)},this);this.a={}};Hi.prototype.C=function(){Hi.F.C.call(this);this.removeAll()};
Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Ki=function(){this.a=[];this.b=[]};Ki.prototype.enqueue=function(a){this.b.push(a)};var Li=function(a){0==a.a.length&&(a.a=a.b,a.a.reverse(),a.b=[]);return a.a.pop()},Mi=function(a){return a.a.length+a.b.length};Ki.prototype.clear=function(){this.a=[];this.b=[]};Ki.prototype.contains=function(a){return 0<=Ga(this.a,a)||0<=Ga(this.b,a)};Ki.prototype.remove=function(a){var b=this.a;var c=Ha(b,a);0<=c?(Ma(b,c),b=!0):b=!1;return b||Na(this.b,a)};
Ki.prototype.u=function(){for(var a=[],b=this.a.length-1;0<=b;--b)a.push(this.a[b]);var c=this.b.length;for(b=0;b<c;++b)a.push(this.b[b]);return a};var Ni=function(a,b){yf.call(this);this.m=a||0;this.c=b||10;if(this.m>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Ki;this.b=new R;this.delay=0;this.i=null;this.Y()};r(Ni,yf);Ni.prototype.ba=function(){var a=Fa();if(!(null!=this.i&&a-this.i<this.delay)){for(var b;0<Mi(this.a)&&(b=Li(this.a),!this.j(b));)this.Y();!b&&Oi(this)<this.c&&(b=this.h());b&&(this.i=a,this.b.add(b));return b}};
Ni.prototype.S=function(a){this.b.remove(a);this.j(a)&&Oi(this)<this.c?this.a.enqueue(a):Pi(a)};Ni.prototype.Y=function(){for(var a=this.a;Oi(this)<this.m;)a.enqueue(this.h());for(;Oi(this)>this.c&&0<Mi(this.a);)Pi(Li(a))};Ni.prototype.h=function(){return{}};var Pi=function(a){if("function"==typeof a.aa)a.aa();else for(var b in a)a[b]=null};Ni.prototype.j=function(a){return"function"==typeof a.La?a.La():!0};Ni.prototype.contains=function(a){return this.a.contains(a)||this.b.contains(a)};
var Oi=function(a){return Mi(a.a)+a.b.a.a};Ni.prototype.C=function(){Ni.F.C.call(this);if(0<this.b.a.a)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var a=this.a;0!=a.a.length||0!=a.b.length;)Pi(Li(a));delete this.a};var Qi=function(a,b){this.a=a;this.b=b};var Ri=function(a){this.a=[];if(a)a:{if(a instanceof Ri){var b=a.A();a=a.u();if(0>=this.a.length){for(var c=this.a,d=0;d<b.length;d++)c.push(new Qi(b[d],a[d]));break a}}else b=eb(a),a=db(a);for(d=0;d<b.length;d++)Si(this,b[d],a[d])}},Si=function(a,b,c){var d=a.a;d.push(new Qi(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};
Ri.prototype.remove=function(){var a=this.a,b=a.length,c=a[0];if(!(0>=b)){if(1==b)La(a);else{a[0]=a.pop();a=0;b=this.a;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].a<b[f].a?g:f;if(b[f].a>e.a)break;b[a]=b[f];a=f}b[a]=e}return c.b}};Ri.prototype.u=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};Ri.prototype.A=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};Ri.prototype.clear=function(){La(this.a)};var Ti=function(){Ri.call(this)};r(Ti,Ri);Ti.prototype.enqueue=function(a,b){Si(this,a,b)};var Ui=function(a,b){this.l=void 0;this.f=new Ti;Ni.call(this,a,b)};r(Ui,Ni);k=Ui.prototype;k.ba=function(a,b){if(!a)return(a=Ui.F.ba.call(this))&&this.delay&&(this.l=l.setTimeout(Da(this.da,this),this.delay)),a;this.f.enqueue(void 0!==b?b:100,a);this.da()};k.da=function(){for(var a=this.f;0<a.a.length;){var b=this.ba();if(b)a.remove().apply(this,[b]);else break}};k.S=function(a){Ui.F.S.call(this,a);this.da()};k.Y=function(){Ui.F.Y.call(this);this.da()};
k.C=function(){Ui.F.C.call(this);l.clearTimeout(this.l);this.f.clear();this.f=null};var Vi=function(a,b,c,d){this.o=a;this.v=!!d;Ui.call(this,b,c)};r(Vi,Ui);Vi.prototype.h=function(){var a=new V,b=this.o;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.v&&(a.i=!0);return a};Vi.prototype.j=function(a){return!a.g&&!a.a};var Wi=function(a,b,c,d,e,f){P.call(this);this.i=void 0!==a?a:1;this.h=void 0!==e?Math.max(0,e):0;this.j=!!f;this.b=new Vi(b,c,d,f);this.a=new L;this.f=new Hi(this)};r(Wi,P);var Xi="ready complete success error abort timeout".split(" ");Wi.prototype.send=function(a,b,c,d,e,f,g,h,m,q){if(this.a.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new Yi(b,Da(this.m,this,a),c,d,e,g,void 0!==h?h:this.i,m,void 0!==q?q:this.j);this.a.set(a,b);a=Da(this.l,this,a);this.b.ba(a,f);return b};
Wi.prototype.abort=function(a,b){var c=this.a.get(a);if(c){var d=c.ha;c.pa=!0;b&&(d&&(Ji(this.f,d,Xi,c.na),Sf(d,"ready",function(){var e=this.b;e.b.remove(d)&&e.S(d)},!1,this)),this.a.remove(a));d&&d.abort()}};Wi.prototype.l=function(a,b){var c=this.a.get(a);c&&!c.ha?(this.f.listen(b,Xi,c.na),b.l=Math.max(0,this.h),b.j=c.wa(),b.i=c.xa(),c.ha=b,Q(this,new Zi("ready",this,a,b)),$i(this,a,b),c.pa&&b.abort()):(a=this.b,a.b.remove(b)&&a.S(b))};
Wi.prototype.m=function(a,b){var c=b.target;switch(b.type){case "ready":$i(this,a,c);break;case "complete":a:{var d=this.a.get(a);if(7==c.h||Fi(c)||d.Z>d.ja)if(Q(this,new Zi("complete",this,a,c)),d&&(d.ua=!0,d.ta)){a=d.ta.call(c,b);break a}a=null}return a;case "success":Q(this,new Zi("success",this,a,c));break;case "timeout":case "error":b=this.a.get(a);b.Z>b.ja&&Q(this,new Zi("error",this,a,c));break;case "abort":Q(this,new Zi("abort",this,a,c))}return null};
var $i=function(a,b,c){var d=a.a.get(b);!d||d.ua||d.Z>d.ja?(d&&(Ji(a.f,c,Xi,d.na),a.a.remove(b)),a=a.b,a.b.remove(c)&&a.S(c)):(d.Z++,c.send(d.eb,d.qb,d.getContent(),d.cb))};Wi.prototype.C=function(){Wi.F.C.call(this);this.b.aa();this.b=null;this.f.aa();this.f=null;this.a.clear();this.a=null};var Zi=function(a,b,c,d){N.call(this,a,b);this.id=c;this.ha=d};r(Zi,N);
var Yi=function(a,b,c,d,e,f,g,h,m){this.eb=a;this.qb=c||"GET";this.a=d;this.cb=e||null;this.ja=void 0!==g?g:1;this.Z=0;this.pa=this.ua=!1;this.na=b;this.ta=f;this.b=h||"";this.c=!!m;this.ha=null};Yi.prototype.getContent=function(){return this.a};Yi.prototype.xa=function(){return this.c};Yi.prototype.wa=function(){return this.b};var aj=function(){},bj=function(){t.call(this)};r(bj,t);bj.prototype.name="httpStatus";var cj=function(){t.call(this)};r(cj,t);cj.prototype.name="httpResponseParsing";var dj=function(a,b){return a.request(b).then(function(c){if((c.getResponseHeader("content-type")||"").toLowerCase().startsWith("application/json")){c=c.ca();c.startsWith(")]}'")&&(c=c.substr(4));try{return JSON.parse(c)}catch(d){}}throw new cj;})},ej=function(){this.a=new L;this.b=0};r(ej,aj);
var fj=function(a){this.b=a.ca();this.a={};bb(Gi(a),function(b,c){this.a[c.toLowerCase()]=b},this)};fj.prototype.ca=function(){return this.b};fj.prototype.getResponseHeader=function(a){return this.a[a.toLowerCase()]||void 0};ej.prototype.request=function(a){var b=z(),c=a.timeout||1E4,d=this.a.get(c);d||(d=new Wi,d.h=Math.max(0,c),this.a.set(c,d));c=a.method||"GET";d.send(this.b++,a.url,c,a.content,a.headers,0,function(e){e=e.target;Fi(e)?b.b(new fj(e)):b.c(new bj(e.getStatus()))},a.D);return b.a};var gj=function(a,b,c){var d=b.read();this.a=d.eurekaInfoState&&d.eurekaInfoState.setupApiVersion||null;this.g=new me("http://"+d.deviceIpAddress+":8008");this.b=a;this.c=b;c?(a=Oh(c),c=(c=Ph(c))?"en"==a?a+"-"+c+", en;q=0.8":a+"-"+c+", "+a+";q=0.8, en;q=0.5":a+", en;q=0.5"):c=null;this.f=c};gj.prototype.getState=function(){return this.c.read()};
var hj=function(a){return a.c.read().eurekaInfoState},jj=function(a,b){return a.b.request({url:ij(a,"/setup/connect_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),D:0})},kj=function(a,b){var c=new me(a.g);c.b="/setup/eureka_info";if(b){var d=[];if(b.options){var e=new R(b.options),f=e.contains("sign");if(null===a.a||7>a.a){var g=new R(["sign","detail"]),h=new R;g=ie(g);for(var m=0;m<g.length;m++){var q=g[m];e.contains(q)&&h.add(q)}h.a.a&&d.push("options="+
h.u().join(","))}e.a.a&&(null===a.a||7<=a.a)&&d.push("params="+e.u().join(","))}b.nonce&&d.push("nonce="+b.nonce);d.length&&qe(c,d.join("&"),void 0)}b=void 0;a.f&&(b={"Accept-Language":a.f});return dj(a.b,{url:c.toString(),method:"GET",headers:b,timeout:f?4E4:1E4,D:f?1:2}).then(a.j.bind(a)).then(a.l.bind(a))};gj.prototype.j=function(a){if(!a.version)return a;if(!this.i.contains(a.version))throw new lj(a.version);this.a=parseInt(a.version,10);var b=this.h.get(this.a,null);!b&&7<=this.a&&(b=Qe);return b(a)};
gj.prototype.l=function(a){var b=this.c.read(),c=b.eurekaInfoState,d={};this.a&&(d.setupApiVersion=this.a);if(3<=this.a&&6>=this.a)d.name=a.name,d.setupState=a.setup_state,d.ssdpUdn=a.ssdp_udn,3===this.a?(d.ethernetConnected=!1,d.tosAccepted=!0,d.modelName="Chromecast"):(d.ethernetConnected=6===this.a?!!a.ethernet_connected:!1,d.tosAccepted=!!a.tos_accepted,a.detail&&(d.modelName=a.detail.model_name)),a.ip_address&&(d.connectedIpAddress=a.ip_address),d.deviceType="c";else if(7<=this.a){a.name&&(d.name=
a.name);if(a.setup&&(void 0!==a.setup.setup_state&&(d.setupState=a.setup.setup_state),63===d.setupState?d.tosAccepted=!1:void 0!==a.setup.tos_accepted&&(d.tosAccepted=a.setup.tos_accepted),void 0!==a.setup.ssid_suffix)){var e=Ag(a.setup.ssid_suffix);d.deviceType=e?e.type:"c"}a.device_info&&(a.device_info.model_name&&(d.modelName=a.device_info.model_name),a.device_info.ssdp_udn&&(d.ssdpUdn=a.device_info.ssdp_udn),a.device_info.capabilities&&(d.features=Bg(d.deviceType||c&&c.deviceType||"b",a.device_info.capabilities)));
a.net&&(void 0!==a.net.ethernet_connected&&(d.ethernetConnected=a.net.ethernet_connected),a.net.ip_address&&(d.connectedIpAddress=a.net.ip_address))}c?hb(c,d):b.eurekaInfoState=d;b.eurekaInfoState.features||(b.eurekaInfoState.features=Bg(d.deviceType||c&&c.deviceType||"b"));this.c.write(b);return a};
var mj=function(a){return dj(a.b,{url:ij(a,"/setup/offer"),method:"GET",timeout:1E4,D:2}).then(function(b){return b})},nj=function(a,b){a.b.request({url:ij(a,"/setup/reboot"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new Xe(b)),timeout:1E4,D:2})},oj=function(a){var b=new $e;b.immediate=!0;return dj(a.b,{url:ij(a,"/setup/save_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),timeout:2E4,D:1}).then(function(c){var d=this.c.read();
d.eurekaInfoState&&d.eurekaInfoState.setupState!==c.setup_state&&(d.eurekaInfoState.setupState=c.setup_state,this.c.write(d));return c}.bind(a))},pj=function(a){return dj(a.b,{url:ij(a,"/setup/scan_results"),method:"GET",timeout:1E4,D:5}).then(function(b){return b})},qj=function(a){return a.b.request({url:ij(a,"/setup/scan_wifi"),method:"POST",D:0})},rj=function(a,b){return a.b.request({url:ij(a,"/setup/set_eureka_info"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),
D:0})},sj=function(a){return dj(a.b,{url:ij(a,"/setup/supported_locales"),method:"GET",timeout:1E4,D:2}).then(function(b){return b})},tj=function(a){return dj(a.b,{url:ij(a,"/setup/supported_timezones"),method:"GET",timeout:1E4,D:2}).then(function(b){return b})},ij=function(a,b){a=new me(a.g);a.b=b;return a.toString()};new R(["now","fdr","ota"]);gj.prototype.i=new R([3,4,5,6,7,8]);gj.prototype.h=new L(3,function(a){v(a,"locale","en-US");return a},4,Ke,5,Ke,6,Ke,7,Qe);
var uj=function(a){var b=new hf(a);return{read:function(){return b},write:function(c){b=c}}},wj=function(a,b,c){var d=new gj(a,b,c);return d.a?x(d):kj(d,{options:vj()}).then(function(){return d})},yj=function(a,b,c,d,e){var f=new gj(a,b,e),g=b.read();if(g.eurekaInfoState&&g.eurekaInfoState.ethernetConnected)return x(f);if(g.verificationState){if(wg(g.verificationState.verificationProperties.deviceBssid,d.bssid))return x(f);g=new hf(g.deviceIpAddress);b.write(g)}a={};var h=a.nonce=yb();a.options=vj().concat(["name",
"sign","device_info.public_key","device_info.hotspot_bssid"]);return kj(f,a).then(function(m){a:switch(m.version){case 3:m=li(new mi(m),c,h,d);break a;case 4:case 5:case 6:m=li(new ni(m),c,h,d);break a;default:m=li(new oi(m),c,h,d)}return m}).then(function(m){g=b.read();g.verificationState=m;b.write(g);return f},function(m){hg(m);if(m instanceof bj)throw m;throw new xj;})},lj=function(){t.call(this)};r(lj,t);lj.prototype.name="setupApiVersionError";var xj=function(){t.call(this)};r(xj,t);
xj.prototype.name="deviceVerificationError";var vj=function(){return"version name setup.setup_state net.ethernet_connected net.ip_address device_info.ssdp_udn device_info.model_name device_info.capabilities setup.ssid_suffix setup.tos_accepted".split(" ")};var zj=function(a,b){this.networks=new L;this.f=new S(this.Za.bind(this),this.Ya.bind(this));this.b=a;this.g=[];for(var c=1,d=arguments.length;c<d;++c)this.g.push(arguments[c]);this.c=new R;this.h=this.gb.bind(this);this.i=this.hb.bind(this);this.a=new P};k=zj.prototype;k.start=function(){return this.f.start()};k.stop=function(){return this.f.stop()};
k.Za=function(){var a=this.b;a.onNetworkListChanged.addListener(this.h);a.onNetworksChanged.addListener(this.i);return T(this.f,this.b.getNetworks({networkType:"WiFi",visible:!0})).then(this.pb.bind(this))};k.pb=function(a){return y(a.filter(function(b){if(Aj(this,b))return!0;this.c.add(b.GUID);return!1}.bind(this)).map(function(b){return this.ma(b.GUID)}.bind(this)))};
k.Ya=function(){this.b.onNetworkListChanged.removeListener(this.h);this.b.onNetworksChanged.removeListener(this.i);this.networks.clear();this.c.clear();return x()};k.gb=function(a){var b=new R(this.networks.A());a=lg(new R(a),this.c);ce(lg(a,b),this.ma.bind(this));ce(lg(b,a),this.Aa.bind(this))};k.Aa=function(a){var b=this.networks.get(a);this.networks.remove(a);a="Connected"===b.ConnectionState;b.ConnectionState="NotConnected";a&&Bj(this,"disconnected",b);Bj(this,"removed",b)};
k.hb=function(a){a=lg(new R(a),this.c);ce(a,this.ma.bind(this))};k.ma=function(a){var b=this,c=z();A(B(Cj(b,a).then(function(d){var e=b.networks.get(a),f=!(!e||"Connected"!==e.ConnectionState);b.networks.set(d.GUID,d);var g="Connected"===d.ConnectionState;e||Bj(b,"added",d);!f&&g?Bj(b,"connected",d):f&&!g&&Bj(b,"disconnected",d)}),function(){he(b.networks,a)&&b.Aa(a)}),function(){c.b()});return c.a};
var Bj=function(a,b,c){Dj.bind(a,c);Q(a.a,new Ej(b,c))},Cj=function(a,b){return B(T(a.f,a.b.getProperties(b)),function(c){c instanceof D||E(b);throw c;}.bind(a)).then(function(c){if(!Fj(this,c))throw this.c.add(b),new D;return c}.bind(a))},Aj=function(a,b){return!Ka(a.g,function(c){return!c.c(b)})},Fj=function(a,b){return!Ka(a.g,function(c){return!c.a(b)})},Ej=function(a,b){N.call(this,a);this.properties=b};r(Ej,N);var Gj=function(){};Gj.prototype.c=function(){return!0};Gj.prototype.a=function(){return!0};
var Hj=function(a){this.b=a||null};r(Hj,Gj);Hj.prototype.c=function(a){return!(!a.WiFi||a.WiFi.Security&&"None"!==a.WiFi.Security)};Hj.prototype.a=function(a){return this.b?!(!a.WiFi||a.WiFi.BSSID!==this.b):zg(a)};
var Dj=function(a){var b=[];["GUID","Name"].forEach(function(c){c in a&&(b.push(" "+c+": "),b.push(E(""+a[c])))});["ConnectionState","Type"].forEach(function(c){c in a&&b.push(" "+c+": "+a[c])});a.WiFi&&(["SSID","BSSID"].forEach(function(c){c in a.WiFi&&(b.push(" WiFi."+c+": "),b.push(E(""+a.WiFi[c])))}),["Security","SignalStrength"].forEach(function(c){b.push(" WiFi."+c+": "+a.WiFi[c])}));return x("")};var Ij=function(a){this.b=a;this.a=null},Jj=new L(1,2E4,3,6E4,2,6E4),Lj=function(a,b){var c=rf(a).filter(Kj);c.push(b);sf(a,c)},Kj=function(a){var b=Jj.get(a.type,Infinity);return Fa()-a.time<b},Mj=function(a){this.b=a};r(Mj,Gj);Mj.prototype.a=function(a){a=a.WiFi&&a.WiFi.BSSID;var b=Nj(this.b,a,2);b&&E(a);return!b};
var Oj=function(a){a.a=new L;for(var b=rf(a.b),c=[],d=0,e=b.length;d<e;++d){var f=b[d];if(Kj(f)){c.push(f);he(a.a,f.type)||a.a.set(f.type,new L);var g=a.a.get(f.type);g&&g.get(f.deviceId,-Infinity)<f.time&&g.set(f.deviceId,f.time)}}c.length!==b.length&&sf(a.b,c)},Nj=function(a,b,c){a.a||Oj(a);a=a.a.get(c,null);if(null===a||!he(a,b))return!1;b=a.get(b)+Jj.get(c,0);return Fa()<b},Pj=function(a,b){(a=Nj(a,b,1)||Nj(a,b,3))&&E(b);return a};var Qj=function(a,b,c,d){P.call(this);this.m=new Ij(d.localStorage);this.f=new zj(a,new Hj,new Mj(this.m));this.h=b;this.G=a;this.B=c;this.l=d};r(Qj,P);var Rj=function(a){N.call(this,"devices");this.devices=a};r(Rj,N);var Sj=function(a,b,c,d){Qj.call(this,a,b,c,d);this.a=null;this.j=0;this.b=new L;this.i=new Ah(5E3);this.v=this.H.bind(this);this.w=this.lb.bind(this);this.o=new S(this.Xa.bind(this),this.Wa.bind(this))};r(Sj,Qj);
var Tj=function(a,b){return B(wj(a.B,uj(b)).then(function(c){var d=c.getState(),e=d.eurekaInfoState;if(d.deviceIpAddress&&e&&e.name&&e.ssdpUdn&&void 0!==e.ethernetConnected&&void 0!==e.tosAccepted&&e.deviceType&&void 0!==e.features)return c;E(b);return jc()}.bind(a)),function(){E(b)}.bind(a))};k=Sj.prototype;k.Xa=function(){this.l.document.addEventListener("visibilitychange",this.w);this.h.listen("devices",this.v);Nh(this.h);this.j=0;return this.f.start().then(this.N.bind(this))};
k.Wa=function(){this.l.document.removeEventListener("visibilitychange",this.w);O(this.h,"devices",this.v);this.j=0;this.i=new Ah(5E3);this.a&&(this.a.cancel(),this.a=null);this.b.clear();return this.f.stop()};k.start=function(){return this.o.start()};k.stop=function(){return this.o.stop()};k.lb=function(){this.l.document.hidden?this.a&&(this.a.cancel(),this.a=null):(this.i=new Ah(5E3),this.N())};
k.N=function(){this.a&&this.a.cancel();Oj(this.m);this.G.requestNetworkScan();this.j++;1<=this.j&&this.l.document.hidden?this.a=null:(this.a=U(this.i.b),T(this.o,this.a).then(this.N.bind(this)),Bh(this.i))};var Uj=function(a){var b=[];a.b.u().forEach(function(c){c.U&&!Pj(this.m,c.ipAddress)&&b.push(c)}.bind(a));Q(a,new Rj(b))};
Sj.prototype.H=function(a){var b=new R;a.msg.devices.forEach(function(c){b.add(c.ipAddress);var d=this.b.get(c.ipAddress);d||(d={ipAddress:c.ipAddress},Tj(this,c.ipAddress).then(function(e){var f=this.b.get(c.ipAddress);f?(f.U=e,this.b.set(c.ipAddress,f),Uj(this)):E(c.ipAddress)}.bind(this)));c.sessionId&&c.appId&&(d.sessionId=c.sessionId,d.appId=c.appId);this.b.set(c.ipAddress,d)}.bind(this));ce(lg(new R(this.b.A()),b),this.b.remove.bind(this.b));Uj(this)};da();ia();var Vj=function(){},Wj="function"==typeof Uint8Array,Zj=function(a,b,c,d){a.b=null;b||(b=c?[c]:[]);a.j=c?String(c):void 0;a.f=0===c?-1:0;a.a=b;a:{if(b=a.a.length)if(--b,c=a.a[b],!(null===c||"object"!=typeof c||va(c)||Wj&&c instanceof Uint8Array)){a.g=b-a.f;a.c=c;break a}a.g=Number.MAX_VALUE}a.i={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.g?(c+=a.f,a.a[c]=a.a[c]||Xj):(Yj(a),a.c[c]=a.c[c]||Xj)},Xj=[],Yj=function(a){var b=a.g+a.f;a.a[b]||(a.c=a.a[b]={})},ak=function(a,b){if(b<a.g){b+=a.f;var c=a.a[b];
return c===Xj?a.a[b]=[]:c}if(a.c)return c=a.c[b],c===Xj?a.c[b]=[]:c},bk=function(a,b,c){b<a.g?a.a[b+a.f]=c:(Yj(a),a.c[b]=c);return a},ck=function(a,b,c){a.b||(a.b={});if(!a.b[c]){for(var d=ak(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.b[c]=e}b=a.b[c];b==Xj&&(b=a.b[c]=[]);return b},ek=function(a){if(a.b)for(var b in a.b){var c=a.b[b];if(va(c))for(var d=0;d<c.length;d++)c[d]&&dk(c[d]);else c&&dk(c)}},dk=function(a){ek(a);return a.a};
Vj.prototype.h=Wj?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){var b;void 0===b&&(b=0);bi();b=Yh[b];for(var c=[],d=0;d<this.length;d+=3){var e=this[d],f=d+1<this.length,g=f?this[d+1]:0,h=d+2<this.length,m=h?this[d+2]:0,q=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|m>>6;m&=63;h||(m=64,f||(g=64));c.push(b[q],b[e],b[g]||"",b[m]||"")}return c.join("")};try{return JSON.stringify(this.a&&dk(this),fk)}finally{Uint8Array.prototype.toJSON=a}}:function(){return JSON.stringify(this.a&&
dk(this),fk)};var fk=function(a,b){return"number"!==typeof b||!isNaN(b)&&Infinity!==b&&-Infinity!==b?b:String(b)};Vj.prototype.toString=function(){ek(this);return this.a.toString()};var gk=function(a){Zj(this,a,0,null)};r(gk,Vj);var hk=function(a){Zj(this,a,0,null)};r(hk,Vj);var ik=function(a){Zj(this,a,0,null)};r(ik,Vj);var kk=function(a){Zj(this,a,"is.gsser",jk)};r(kk,Vj);var jk=[3,5,13];kk.messageId="is.gsser";kk.prototype.getTitle=function(){return ak(this,1)};kk.prototype.setTitle=function(a){return bk(this,1,a)};var lk=function(a,b,c){this.b=a;this.a=c;this.c="https://clients3.google.com/cast/chromecast/home/gsse?rt=j&hl="+b};
lk.prototype.request=function(a){var b=new hk;bk(b,3,a);bk(b,1,"E8C28D3C");return this.b.request({url:this.c,method:"POST",content:b.h(),headers:{"Content-Type":"application/json"}}).then(function(c){c=c.ca();c.startsWith(")]}'\n")&&(c=c.slice(5));c=JSON.parse(c);c=new kk(c[0][0]);var d=[],e=ak(c,4);e&&d.push(e);(e=ck(c,ik,5))&&e.forEach(function(f){d.push(ak(f,2))});d.forEach(this.a.j.bind(this.a));return c}.bind(this))};var mk=function(a){this.b=a;this.a=new L;this.f=new S(this.Ra.bind(this),this.Qa.bind(this));this.i=this.mb.bind(this);this.j=this.nb.bind(this);this.h=this.Pa.bind(this);this.l=this.kb.bind(this);this.g=this.Oa.bind(this);this.c=null},nk=function(a){this.a=a};nk.prototype.T=function(){var a=yg(this.a.WiFi.SSID),b=new id("wifi:"+this.a.GUID,Cg(a.type),a.name);b.needsSetup=!0;b.features=Bg(a.type);return b};
nk.prototype.va=function(){var a=this.T();a={name:a.displayName,type:pg.a.get(a.type)||"c"};a.ssid=this.a.WiFi.SSID;a.bssid=this.a.WiFi.BSSID;return new gf(a)};nk.prototype.start=function(){return x()};nk.prototype.stop=function(){return x()};var ok=function(a,b,c,d){this.j=b;this.a=null;this.c=d;this.m=a;this.h=new S(this.Na.bind(this),this.Ma.bind(this));this.v=c;this.g=this.b=this.f=null;this.w=new lk(a.g,a.h(),this.m.m);this.i=this.l.bind(this);this.o=this.ib.bind(this);this.s=this.fb.bind(this)};
ok.prototype.va=function(){var a=this.T();return new gf({name:a.displayName,type:pg.a.get(a.type)||"c",ipAddress:this.j})};
var pk=function(a,b){if(!Jg(a.a.appId)||Jg(a.a.appId)&&!a.f)return b;a.a.status&&(b.sessionStatus=Gg(a.a.status));var c=ck(a.f,gk,3);0<c.length&&(b.backdropImageAttributions=Ja(c,function(e){return ak(e,1)}.bind(a)));c=ck(a.f,ik,5);0<c.length&&(b.backdropSecondaryActions=Ja(c,function(e){var f={},g=ak(e,1);g&&(f.text=g);(e=ak(e,2))&&(f.url=e);return f}.bind(a)));if(c=a.f.getTitle())b.mediaTitle=c;var d=ak(a.f,2);d&&(b.imgUrl=d);if(a=ak(a.f,4))b.backdropPrimaryActionUrl=a;c||1!==b.backdropImageAttributions.length||
(b.mediaTitle=b.backdropImageAttributions[0],b.backdropImageAttributions=[]);return b};k=ok.prototype;
k.T=function(){var a="ip:"+this.j,b=this.v.getState().eurekaInfoState;a=new id(a,Cg(b.deviceType),b.name);a.features=b.features;a.displayName=b.name;a.needsSetup=b.ethernetConnected&&!b.tosAccepted;if(a.needsSetup&&!a.features.supportsSetup)a=null;else if(this.a&&this.a.status!==chrome.cast.SessionStatus.STOPPED)if(Jg(this.a.appId))a=pk(this,a);else if(a.isCasting=!0,this.a.receiver.volume&&(b=this.a.receiver.volume.level,null!==b&&(a.volumeLevel=b),b=this.a.receiver.volume.muted,null!==b&&(a.isMuted=
b)),this.a.status&&(a.sessionStatus=Gg(this.a.status)),b=this.a.appId,"85CDB22F"===b||"0F5096E8"===b)this.a.displayName&&(a.mediaTitle=this.a.displayName),this.a.statusText&&(a.mediaSource=this.a.statusText);else if(this.a.displayName&&(a.mediaSource=this.a.displayName),b=qk(this))if(0<=Ga(b.supportedMediaCommands,chrome.cast.media.MediaCommand.PAUSE)&&(a.canPause=!0),b.playerState&&(a.playerState=Fg(b.playerState)),b.media&&(b.media.duration&&(a.mediaDuration=b.media.duration),b=b.media.metadata||
b.media.vb))b.title&&(a.mediaTitle=b.title),b.images&&0<b.images.length&&b.images[0].url&&!b.images[0].url.endsWith(".ico")&&(a.imgUrl=b.images[0].url);return a};k.rb=function(){if(this.g)if(!this.g.appId||!this.g.sessionId)rk(this),this.c();else if(!this.a||this.a.sessionId!=this.g.sessionId){var a=Ng(this.m.i,this.g.appId,this.g.sessionId);a.then(this.jb.bind(this));T(this.h,a);this.g=null}};
k.jb=function(a){a.session.status!==chrome.cast.SessionStatus.STOPPED&&(this.a&&rk(this),this.a=a.session,this.b=a.context,this.a.addMediaListenerWithContext(this.b,this.o),this.a.addUpdateListenerWithContext(this.b,this.i),Jg(this.a.appId)&&(this.a.addMessageListenerWithContext(this.b,"urn:x-cast:com.google.cast.sse",this.s),this.a.sendMessageWithContext(this.b,"urn:x-cast:com.google.cast.sse",{type:"GET_STATUS",requestId:Math.floor(4294967295*Math.random())},n,function(){})),this.a.media&&this.a.media.forEach(function(b){b.addUpdateListenerWithContext(this.b,
this.i)}.bind(this)),this.l())};k.fb=function(a,b){"urn:x-cast:com.google.cast.sse"===a&&(a=JSON.parse(b),a=this.w.request(a.backendData),a.then(function(c){this.f=c;this.c()}.bind(this)),T(this.h,a))};k.ib=function(a){this.l();a.addUpdateListenerWithContext(this.b,this.i)};k.start=function(){return this.h.start()};k.stop=function(){return this.h.stop()};k.Na=function(){return x()};k.Ma=function(){rk(this);return x()};
var rk=function(a){a.f=null;a.a&&(a.a.media&&a.a.media.forEach(function(b){b.removeUpdateListenerWithContext(this.b,this.i)}.bind(a)),a.a.removeUpdateListenerWithContext(a.b,a.i),a.a.removeMediaListenerWithContext(a.b,a.o),Jg(a.a.appId)&&a.a.removeMessageListenerWithContext(a.b,"urn:x-cast:com.google.cast.sse",a.s),a.a=null,a.b=null)},qk=function(a){if(!a.a||!a.a.media)return null;var b=null;a.a.media.forEach(function(c){c&&(b?!b.media&&c.media?b=c:b.playerState==chrome.cast.media.PlayerState.IDLE&&
c.playerState!=chrome.cast.media.PlayerState.IDLE&&(b=c):b=c)}.bind(a));return b};ok.prototype.l=function(){this.a.status===chrome.cast.SessionStatus.STOPPED&&rk(this);this.c()};
var sk=function(a,b){if(a.a&&a.b){var c=qk(a);c&&0<=Ga(c.supportedMediaCommands,chrome.cast.media.MediaCommand.PAUSE)&&(3==b&&c.playerState==chrome.cast.media.PlayerState.PAUSED?c.playWithContext(a.b,null,a.c,function(){}):4==b&&c.playerState==chrome.cast.media.PlayerState.PLAYING&&c.pauseWithContext(a.b,null,a.c,function(){}))}},tk=function(a,b,c){if(a.a&&a.b)switch(c){case 4:case 3:sk(a,c);break;case 5:a.a.stopWithContext(a.b,a.c,function(){});break;case 6:a.a.setReceiverMutedWithContext(a.b,!0,
a.c,function(){});break;case 7:a.a.setReceiverMutedWithContext(a.b,!1,a.c,function(){});break;case 8:b.volumeLevel!==a.a.receiver.volume.level&&a.a.setReceiverVolumeLevelWithContext(a.b,b.volumeLevel,a.c,function(){})}},uk=function(a,b){if(a.id===b.id)return 0;if(a.needsSetup!==b.needsSetup)return a.needsSetup?-1:1;var c=Wa(a.displayName,b.displayName);return 0!==c?c:a.id<b.id?-1:a.id>b.id?1:0};k=mk.prototype;k.start=function(){return this.f.start()};k.stop=function(){return this.f.stop()};
k.Ra=function(){this.O();var a=this.b.a.f.a;a.listen("added",this.i);a.listen("removed",this.j);a=this.b.b.a.a;a.addListener("Devices.UserAction",this.h);a.addListener("DeviceDiscovery.ScanAgain",this.l);this.b.a.listen("devices",this.g);a=this.b.a;Nh(a.h);a.N();return this.b.a.start()};
k.Qa=function(){this.b.b.a.a.removeListener("Devices.UserAction",this.h);var a=this.b.a.f.a;O(a,"added",this.i);O(a,"removed",this.j);O(this.b.a,"devices",this.g);var b=[this.b.a.stop()];this.a.forEach(function(c){b.push(c.stop())}.bind(this));this.a=new L;return y(b)};k.mb=function(a){var b="wifi:"+a.properties.GUID;a=this.a.get(b)||new nk(a.properties);this.a.set(b,a);a.start();this.O()};k.nb=function(a){a="wifi:"+a.properties.GUID;var b=this.a.get(a);b&&(b.stop(),this.a.remove(a),this.O())};
k.Oa=function(a){var b=new L,c=!1;a.devices.forEach(function(d){if(d.ipAddress){var e="ip:"+d.ipAddress,f=this.a.get(e);f||(f=new ok(this.b,d.ipAddress,d.U,this.O.bind(this)),f.start(),c=!0);var g=f;d.ipAddress!=g.j?(E(d.ipAddress),E(g.j)):(g.g=d,Wg(g.h).then(g.rb.bind(g)));b.set(e,f);this.a.remove(e)}}.bind(this));this.a.A().forEach(function(d){var e=this.a.get(d);e instanceof nk&&(b.set(d,e),this.a.remove(d))}.bind(this));0<this.a.a&&(c=!0);this.a.forEach(function(d){d.stop()}.bind(this));this.a=
b;c&&this.O()};k.O=function(a){var b=[];this.a.forEach(function(d){if(d=d.T()){for(var e,f=uk||Ua,g=0,h=b.length;g<h;){var m=g+(h-g>>>1);var q=f(d,b[m]);0<q?g=m+1:(h=m,e=!q)}e=e?g:-g-1;0>e&&Ta(b,-(e+1),0,d)}});var c=this.b.b.a.a;c.sendMessage(new jd(b,a));0===b.length?null===this.c&&(this.c=T(this.f,U(3E4)).then(function(){this.c=null;var d=0;this.a.forEach(function(e){d+=e.T()?1:0});0===d&&c.sendMessage(new F("DeviceDiscovery.NotFound"))}.bind(this))):null!==this.c&&(a=this.c,this.c=null,a.cancel())};
k.Pa=function(a){var b=this.a.get(a.device.id);if(b)switch(a.action){case 1:a=new ef(yb());a.states=new lf(0,[new M(1)]);a.commonState=new ff;a.commonState.device=b.va();a.commonState.pinned=!0;pf(this.b.f,a);this.b.l(a.id);break;case 2:this.b.j(b.j);break;case 3:case 4:case 5:case 6:case 7:case 8:tk(b,a.device,a.action)}else E(a.device.id)};k.kb=function(){this.O();var a=this.b.a;Nh(a.h);a.N()};var vk=function(a,b){this.c=a;this.i=b;this.b=null;this.j=uj(b);this.g=this.a=null;this.f=new S(this.Ta.bind(this),this.Sa.bind(this));this.h=new L("DeviceSettings.Apply",this.Ka.bind(this),"DeviceSettings.Reboot",this.o.bind(this),"DeviceSettings.FactoryReset",this.m.bind(this),"DeviceSettings.ForgetWiFi",this.s.bind(this),"DeviceSettings.Exit",this.l.bind(this))};k=vk.prototype;k.start=function(){return this.f.start()};k.stop=function(){return this.f.stop()};
k.Ta=function(){return T(this.f,wj(this.c.g,this.j)).then(function(a){this.b=a;return y([T(this.f,kj(a,{options:"build_info.cast_build_revision device_info.mac_address detail net.ip_address settings.country_code settings.locale settings.timezone settings.time_format opt_in.stats wifi.ssid wifi.wpa_id".split(" ")})),T(this.f,sj(a)),T(this.f,tj(a))])}.bind(this)).then(function(a){this.ob.apply(this,a);var b=this.c.b.a.a;this.h.forEach(function(c,d){b.addListener(d,c)});wk(this,1)}.bind(this))};
k.Sa=function(){var a=this.c.b.a.a;this.h.forEach(function(b,c){a.removeListener(c,b)});this.b=null;this.j=uj(this.i);this.a=null;return x()};
k.ob=function(a,b,c){var d=hj(this.b),e=d.setupApiVersion,f=Cg(d.deviceType);c=c.map(function(C){return new nd(C.timezone,C.display_string,C.offset)});b=b.map(function(C){return new md(C.locale,C.display_string)});var g=this.a={};if(7<=e){e=a.wifi;var h=a.settings,m=a.opt_in,q=a.build_info,I=a.device_info;a=a.net;g.deviceType=f;g.name=d.name;g.ssid=!d.ethernetConnected&&e.ssid||null;g.timeZoneId=h.timezone||null;g.supportedTimeZones=c;g.timeFormat=1===h.time_format?1:2;g.localeId=h.locale||"";g.supportedLocales=
b;g.statsOptIn=!!m.stats;g.firmwareVersion=q.cast_build_revision||"";g.countryCode=h.country_code||null;g.macAddress=I.mac_address||"";g.ipAddress=a.ip_address;this.g=void 0!==e.wpa_id?e.wpa_id:null}else h=1===(3<e?a.time_format:2)?1:2,g.deviceType=f,g.name=d.name,g.ssid=!d.ethernetConnected&&a.ssid||null,g.timeZoneId=a.timezone||null,g.supportedTimeZones=c,g.timeFormat=h,g.localeId=a.locale,g.supportedLocales=b,g.statsOptIn=!!(3<e&&a.opt_in&&a.opt_in.stats),g.firmwareVersion=a.build_version,g.countryCode=
3<e&&a.location&&a.location.country_code||null,g.macAddress=a.mac_address,g.ipAddress=a.ip_address,this.g=void 0!==a.wpa_id?a.wpa_id:null};
k.Ka=function(a){var b=this,c=hj(this.b).features.deviceSettings;a.timeFormat===b.a.timeFormat||c.supportsTimeFormatChange||(a.timeFormat=b.a.timeFormat);a.statsOptIn===b.a.statsOptIn||c.supportsDataCollectionToggle||(a.statsOptIn=b.a.statsOptIn);if(a.name===b.a.name&&a.timeZoneId===b.a.timeZoneId&&a.timeFormat===b.a.timeFormat&&a.localeId===b.a.localeId&&a.statsOptIn===b.a.statsOptIn)wk(b,1);else{var d=fb(b.a);b.a.name=a.name;b.a.timeZoneId=a.timeZoneId;b.a.timeFormat=a.timeFormat;b.a.localeId=a.localeId;
b.a.statsOptIn=a.statsOptIn;wk(b,2);B(T(b.f,rj(b.b,xk(b,a))).then(function(){b.a.localeId!==d.localeId?b.c.reload():wk(b,1)}),function(){b.a=d;wk(b,3)})}};
var xk=function(a,b){var c=a.b.a;a=1===b.timeFormat?1:2;if(7<=c)return c=new df,c.name=b.name,c.settings=new Te,b.timeZoneId&&(c.settings.timezone=b.timeZoneId),c.settings.time_format=a,c.settings.locale=b.localeId,c.opt_in=new Ue,c.opt_in.stats=b.statsOptIn,c;if(4<=c&&6>=c)return c=new cf,c.name=b.name,b.timeZoneId&&(c.timezone=b.timeZoneId),c.time_format=a,c.locale=b.localeId,c.opt_in=new Me,c.opt_in.stats=b.statsOptIn,c;a=new bf;a.name=b.name;b.timeZoneId&&(a.timezone=b.timeZoneId);a.locale=b.localeId;
return a},wk=function(a,b){a.c.b.a.a.sendMessage(new od(b,hj(a.b).features,a.a))};vk.prototype.o=function(){if(hj(this.b).features.deviceSettings.supportsReboot){nj(this.b,"now");var a=this.b.c.read().deviceIpAddress;Lj(this.c.f,new mf(1,Fa(),a));this.c.c()}};vk.prototype.m=function(){if(hj(this.b).features.deviceSettings.supportsFdr){nj(this.b,"fdr");var a=this.b.c.read().deviceIpAddress;Lj(this.c.f,new mf(3,Fa(),a));this.c.c()}};
vk.prototype.s=function(){if(hj(this.b).features.deviceSettings.supportsForgetWiFi){var a=this.b,b=this.g;a.b.request({url:ij(a,"/setup/forget_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new Ve(b)),timeout:1E4,D:2});this.c.c()}};vk.prototype.l=function(){this.c.c()};var yk=chrome.i18n.getMessage("3254351313955764967"),zk=chrome.i18n.getMessage("3485206350043289145");var Ak=function(a){this.c=window;this.a=a;this.b=new P;this.f=new S(this.h.bind(this),this.g.bind(this))};Ak.prototype.start=function(){return this.f.start()};
Ak.prototype.h=function(){var a=z();Bk(this.c,"start");Ck(this);var b=T(this.f,U(18E4)).then(function(){Bk(this.c,"load-failed");Q(this.b,"loadTimedOut");a.c(new fg)}.bind(this));T(this.f,this.a.start()).then(function(){var c=this.a.a;T(this.f,rh(c,"OfflineUiReady")).then(function(){Q(this.b,"offlineUiReady")}.bind(this));Q(this.b,"waitingForHandshake");return T(this.f,c.sendRequest(new Ac))}.bind(this)).then(function(c){switch(c.type){case "Handshake.Response":Bk(this.c,"hosting-embedded-ui");Q(this.b,
"embeddedUiReady");b.cancel();a.b();break;case "Handshake.UiVersionNotSupported":Bk(this.c,"update-required");Q(this.b,"updateRequired");a.c(c);break;default:Bk(this.c,"load-failed"),Q(this.b,"loadFailed")}}.bind(this));return a.a};var Ck=function(a){var b=a.c.document;[["#load-failed-message",yk],["#update-required-message",zk]].forEach(function(c){var d=b.querySelector(c[0]);d&&(d.textContent=c[1])})};Ak.prototype.g=function(){return this.a.stop()};
var Bk=function(a,b){(a=a.document&&a.document.body||null)&&a.setAttribute("class",b)};var Dk=function(a,b,c,d,e){this.b=b;this.a=c;this.f=d;this.g=a.localStorage;this.c=e},Ek=function(a,b){this.b=a;this.l=b;this.c=new L;this.h=!0;this.g=!1;this.a=new R;this.j=new Ij(a.g);this.f=new S(this.bb.bind(this),this.ab.bind(this));this.i=this.$a.bind(this)};k=Ek.prototype;k.start=function(){return this.f.start()};k.stop=function(){if(!this.g){var a=new wd(this.l,this.c.u(),!0);this.b.b.a.a.sendMessage(a);this.g=!0}return this.f.stop()};
k.bb=function(){this.b.a.listen("devices",this.i);Nh(this.b.a);T(this.f,U(3E4)).then(function(){this.h=!1;this.Ca()}.bind(this));return x()};k.ab=function(){O(this.b.a,"devices",this.i);this.c=new L;this.h=!0;this.g=!1;this.a=new R;return x()};
k.$a=function(a){var b=this;Oj(this.j);(a.msg.devices||[]).forEach(function(c){var d=c.ipAddress;he(b.c,d)||b.a.contains(d)||Pj(b.j,d)||(b.a.add(d),A(B(wj(b.b.f,uj(d)).then(function(e){if(7>e.a)throw new D;return T(b.f,mj(e)).then(function(f){var g=hj(e);f=new vd(f.token,g.name,Cg(g.deviceType),g.ssdpUdn);b.c.set(d,f);b.a.remove(d);b.g||(f=new wd(b.l,b.c.u(),!b.h&&0===b.a.a.a),b.g=f.scanComplete,b.b.b.a.a.sendMessage(f))})}),function(){b.a.remove(d)}),b.Ca.bind(b)))})};
k.Ca=function(){this.h||0!==this.a.a.a||this.stop()};var W=function(a,b,c){this.b=new S(b||function(){return x()},c||void 0);this.a=a};W.prototype.start=function(){return this.b.start()};W.prototype.stop=function(){return this.b.stop()};var X=function(a){return a.a.j.a.a};var Hk=function(a,b,c,d){var e=Fk,f=Gk,g=window.location.reload.bind(window.location),h=chrome.i18n.getUILanguage,m=new Kh;this.window=a;this.b=b;this.g=c;this.a=a.localStorage;this.l=a.sessionStorage;this.c=d;this.j=e;this.f=f;this.m=g;this.h=h;this.i=m};var Ik=function(a){W.call(this,a,this.l.bind(this),this.j.bind(this));this.c=this.f=null;this.g=this.i.bind(this);this.m=this.h.bind(this)};r(Ik,W);Ik.prototype.l=function(){return T(this.b,Jk(this.a)).then(function(a){this.f=a;X(this).addListener("AudioConfirmation.UserAction",this.g);X(this).sendMessage(new Uc(1));this.c=3;this.h()}.bind(this))};Ik.prototype.j=function(){this.c=this.f=null;X(this).removeListener("AudioConfirmation.UserAction",this.g);return x()};
Ik.prototype.h=function(){if(null!==this.c){var a=this.b;var b=this.f;var c=this.c;b=b.b.request({url:ij(b,"/setup/play_sound"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new We(c)),timeout:1E4,D:2});T(a,b);this.c=3;T(this.b,U(1===this.c?3E3:1900)).then(this.m)}};Ik.prototype.i=function(a){var b=null;switch(a.action){case 1:this.c=1;b=2;break;case 2:Y(this.a,12);Kk(this.a,new M(5));break;case 3:b=3;break;case 4:Y(this.a,13),a=this.a,qf(a.a.a,a.b),a.a.f()}b&&X(this).sendMessage(new Uc(b))};var Lk=function(a){W.call(this,a,this.c.bind(this),null)};r(Lk,W);Lk.prototype.c=function(){var a=this;T(this.b,X(this).sendRequest(new Rc((this.a.b.setupApiClientState||null).verificationState.pin))).then(function(b){b.confirmed?(Y(a.a,10),Kk(a.a,new M(5))):(Y(a.a,11),T(a.b,X(a).sendRequest(new Fc(1))).then(function(){var c=a.a;qf(c.a.a,c.b);c.a.f()}))});return x()};var Mk=function(a,b){this.i=a;this.a=new zj(a,new Hj(b));this.b="connected";this.c=null;this.f=new S(this.Va.bind(this),this.Ua.bind(this));this.g=new P},Nk=["added","removed","connected","disconnected"];k=Mk.prototype;k.start=function(){return this.f.start()};k.stop=function(){return this.f.stop()};k.getState=function(){return this.b};k.Va=function(){var a=this;return a.a.start().then(function(){a.h();Nk.forEach(function(b){a.a.a.listen(b,a.h,!0,a)})})};
k.Ua=function(){this.b="connected";this.c=null;if(!this.a)return x();var a=this.a;this.a=null;Nk.forEach(function(b){O(a.a,b,this.h,!0,this)}.bind(this));return a.stop()};var Ok=function(a,b){a.b!==b&&(a.b=b,Q(a.g,new N(b)))};
Mk.prototype.h=function(){if("failed"!==this.b){var a=null;1===this.a.networks.a&&(a=this.a.networks.u()[0]);if(!a)"connected"===this.b&&(Pk(this),Ok(this,"disconnected"));else if("Connected"===a.ConnectionState)this.c&&(a=this.c,this.c=null,a.cancel()),Ok(this,"connected");else if("connected"===this.b||"disconnected"===this.b)Pk(this),Ok(this,"reconnecting"),Qk(this,a.GUID)}};
var Qk=function(a,b){B(T(a.f,a.i.startConnect(b)),function(){Ok(this,"failed");this.a.stop()}.bind(a))},Pk=function(a){a.c||(a.c=T(a.f,U(9E4)).then(function(){Ok(this,"failed");this.a.stop()}.bind(a)))};var Rk=function(a){W.call(this,a,this.s.bind(this),this.m.bind(this));this.f=null;this.o=0;this.h=this.g=this.j=this.c=null};r(Rk,W);var Sk=["connected","disconnected","reconnecting","failed"];Rk.prototype.s=function(){var a=this,b=Z(a.a);X(a).sendMessage(Hg(b.connectWiFi,Tk(a.a)));a.g=new Mk(a.a.a.b,b.connectedHotSpotBssid);Sk.forEach(function(c){a.g.g.listen(c,a.i,!0,a)});return y([T(a.b,a.g.start()),T(a.b,Jk(a.a)).then(function(c){a.f=c;Uk(a)})]).then(a.v.bind(a))};
Rk.prototype.m=function(){var a=this;Vk(a);Wk(a);if(!a.g)return x();var b=a.g;a.g=null;Sk.forEach(function(c){O(b.g,c,a.i,!0,a)});return b.stop()};var Uk=function(a,b){a.c||(a.c=B(U(b||0).then(function(){++a.o;a.c=kj(a.f,{options:["version","setup.setup_state","net.ip_address"]});return a.c}).then(a.l.bind(a)),function(c){hg(c)}).then(function(){a.c=null;Uk(a,3E3)}))},Wk=function(a){if(a.c){var b=a.c;a.c=null;b.cancel()}};
Rk.prototype.l=function(){var a=hj(this.f).setupState;if(a!==this.j)switch(this.j=a,a){case 31:return Xk(this,2),jc(new D);case 21:case 41:case 10:case 11:return Xk(this,1),jc(new D);case 60:case 61:case 51:return Yk(this),jc(new D)}};
var Yk=function(a){Vk(a);Y(a.a,19);var b=hj(a.f);A(B(T(a.b,a.a.a.c.a()).then(function(c){c=Ig(b.setupApiVersion,Z(a.a).deviceName,3!==c);return T(a.b,rj(a.f,c))}),function(c){hg(c)}).then(function(){var c=Z(a.a),d=c.connectedHotSpotBssid;Lj(a.a.a.a,new mf(2,Fa(),d));delete c.connectedHotSpotBssid;Zk(a.a,c);if(60!==b.setupState&&4<=b.setupApiVersion)return B(T(a.b,oj(a.f)),n)}),function(){Kk(a.a,new M(8))})},Xk=function(a,b){Vk(a);Y(a.a,2===b?17:18);var c=Z(a.a);c.connectWiFi.a=b;Zk(a.a,c);Kk(a.a,
new M(6))};Rk.prototype.i=function(a){switch(a.type){case "connected":Uk(this);break;case "disconnected":case "reconnecting":Wk(this);break;case "failed":Xk(this,1)}};Rk.prototype.v=function(){clearTimeout(this.h);this.h=setTimeout(function(){Xk(this,1)}.bind(this),9E4)};var Vk=function(a){clearTimeout(a.h);a.h=null};var $k="AC AD AE AF AG AI AL AM AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BQ BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CP CR CU CV CW CX CY CZ DE DG DJ DK DM DO DZ EA EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU IC ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR SS ST SV SX SY SZ TA TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS XK YE YT ZA ZM ZW".split(" ");var al=function(a){W.call(this,a,this.g.bind(this),null);this.f=!1;this.c=null};r(al,W);
al.prototype.g=function(){var a=Z(this.a);this.f=!!a.device.ipAddress;var b=(this.a.b.setupApiClientState||null).eurekaInfoState,c=a.deviceName||b.name;b=3===b.setupApiVersion;this.f||b||a.country?a=null:(a=this.a.a.h(),a=(b=Ph(a))&&-1!==$k.indexOf(b)?b:(a=Oh(a).toUpperCase())&&-1!==$k.indexOf(a)?a:"US");this.c=a;B(T(this.b,X(this).sendRequest(new Xc(Tk(this.a),c,this.c))).then(this.h.bind(this)),this.a.g.bind(this.a));return x()};
al.prototype.h=function(a){var b=this;Y(b.a,14);var c=Z(b.a);c.deviceName=a.name;b.c&&a.country&&(c.country=a.country);Zk(b.a,c);if(b.f){var d=null;return y([T(b.b,Jk(b.a)),b.a.a.c.a()]).then(function(e){d=e[0];e=e[1];var f=[];7<=d.a&&f.push(T(b.b,d.b.request({url:ij(d,"/setup/accept_tos"),method:"POST",timeout:1E4,D:2})));f.push(T(b.b,rj(d,Ig(d.a,c.deviceName,3!==e))));return y(f)}).then(function(){return T(b.b,kj(d,{options:["setup.setup_state"]}))}).then(function(){switch(hj(d).setupState){case 60:bl(b.a);
break;case 62:Kk(b.a,new M(10));break;default:return jc()}})}Kk(b.a,new M(6))};var cl=function(a){W.call(this,a,this.c.bind(this),null)};r(cl,W);cl.prototype.c=function(){var a=this,b=null;return y([T(this.b,Jk(this.a)),this.a.a.c.a()]).then(function(c){b=c[0];c=Ig(b.a,Z(a.a).deviceName,3!==c[1]);c=[T(a.b,rj(b,c))];4<=b.a&&c.push(T(a.b,oj(b)));return y(c)}).then(function(){return T(a.b,kj(b,{options:["setup.setup_state"]}))}).then(function(){switch(hj(b).setupState){case 60:case 52:bl(a.a);break;case 62:Kk(a.a,new M(10));break;default:return jc()}})};var dl=function(a,b,c,d){W.call(this,a,this.X.bind(this),this.m.bind(this));this.g=1;this.c=new Qg;this.w=c;this.B=b;this.i=null;this.G=void 0!==d?d:tf(a.a.a);this.h=null;this.s=this.R.bind(this);this.l=this.j.bind(this);this.H=this.P.bind(this)};r(dl,W);
dl.prototype.X=function(){var a=this;el(a,1);a.h=new zj(this.a.a.b);var b=a.h.a;b.listen("connected",a.ea,!0,a);b.listen("added",a.o,!0,a);b=X(a);b.addListener("WiFiSwitching.Proceed",a.s);b.addListener("WiFiSwitching.RetryConnection",a.l);b.addListener("WiFiConfig.Retry",a.l);return T(a.b,a.h.start()).then(function(){var c=a.h.networks;(c=a.i&&c.get(a.i)||null)?"Connected"===c.ConnectionState?a.j():a.G?(a.M(1),el(a,2),a.V(1),Rg(a.c,U(25E3)).then(a.v.bind(a)),a.a.a.b.startConnect(a.i)):a.v():(el(a,
11),a.a.g())})};dl.prototype.m=function(){this.g=1;this.i=null;var a=this.c;this.c=new Qg;a=[Sg(a)];var b=this.h;this.h=null;if(b){var c=b.a;O(c,"connected",this.ea,!0,this);c.listen("added",this.o,!0,this);a.push(b.stop())}b=X(this);b.removeListener("WiFiSwitching.Proceed",this.s);b.removeListener("WiFiSwitching.RetryConnection",this.l);b.removeListener("WiFiConfig.Retry",this.l);return y(a)};
dl.prototype.ea=function(a){if(fl(this,a))switch(this.g){case 2:this.M(2);this.j();break;case 6:this.M(4),this.j()}};dl.prototype.o=function(a){fl(this,a)&&1===this.g&&(this.i=a.properties.GUID)};var fl=function(a,b){b=b.properties.WiFi;return a.w&&!wg(b.BSSID,a.w)||a.B&&b.SSID!==a.B?!1:!0};dl.prototype.v=function(){this.M(3);el(this,5);this.J(1)};
dl.prototype.R=function(){var a=this;el(a,6);a.J(2);var b=a.h.networks.get(this.i);b&&"Connected"===b.ConnectionState?a.j():Rg(a.c,U(1E4)).then(function(){el(a,7);a.J(3)})};var gl=function(a){var b=z();Rg(a.c,b.a);var c=null,d=function(e){c=U(e).then(a.qa.bind(a)).then(function(f){a.M(5);b.b(f)},function(f){f instanceof bj?d(2E3):f instanceof xj&&(Y(a.a,9),b.c(f))})};A(b.a,function(){if(c){var e=c;c=null;e.cancel()}});d(0);return b.a};
dl.prototype.j=function(){var a=this;6===a.g||9===a.g?(el(a,8),this.J(2)):(el(a,3),this.V(1));var b=gl(a).then(function(c){el(a,11);a.ra(c)},this.H);Rg(a.c,U(12E4)).then(function(){b.cancel()})};dl.prototype.P=function(a){a=a instanceof lj||a instanceof xj;8===this.g?a?(el(this,10),this.J(5)):(el(this,9),this.J(4)):a?(el(this,10),this.V(3)):(el(this,4),this.V(2))};var el=function(a,b){b!==a.g&&(a.g=b,b=a.c,a.c=new Qg,Sg(b))};var hl=function(a){this.f=Z(a).device;dl.call(this,a,null,this.f.bssid)};r(hl,dl);var il=new L(1,4,2,5,3,6,4,7,5,8);k=hl.prototype;k.ea=function(a){var b=a.properties.WiFi,c=null;wg(b.BSSID,this.f.bssid)?(c=Z(this.a),c.connectedHotSpotBssid=b.BSSID):zg(a.properties)||(c=Z(this.a),c.originalWiFiNetwork={ssid:b.SSID,bssid:b.BSSID});c&&Zk(this.a,c);hl.F.ea.call(this,a)};k.qa=function(){var a=this.a.a;return T(this.b,yj(a.g,uj("192.168.255.249"),a.b,{ssid:this.f.ssid,bssid:this.f.bssid},a.h()))};
k.V=function(a){var b=this.a.a,c=X(this),d=Cg(this.f.type);c.sendMessage(new Lc(1===a&&3||2===a&&4||3===a&&5||null,d,this.f.name));3===a&&Rg(this.c,rh(c,"BadDeviceAck")).then(b.f.bind(b))};k.J=function(a){var b=this.a.a,c=X(this);c.sendMessage(new Oc(a,this.f.name,this.f.ssid));5===a&&Rg(this.c,rh(c,"BadDeviceAck")).then(b.f.bind(b))};k.ra=function(a){a=a.getState();this.a.h(a);a.eurekaInfoState.features.supportsDisplay?Kk(this.a,new M(3)):Kk(this.a,new M(4))};
k.M=function(a){(a=il.get(a))&&Y(this.a,a)};var jl=function(a,b,c,d,e){var f=z(),g=new Sj(b,c,d,e),h=function(C){return C.U.getState().eurekaInfoState.ssdpUdn===a},m=function(C){(C=Ka(C.devices,h))&&f.b(C.ipAddress)};g.listen("devices",m);var q=null;g.start().then(function(){q=setInterval(function(){Nh(g.h);g.N()},5E3)});var I=setTimeout(f.c.bind(f),18E4);return A(f.a,function(){clearTimeout(I);clearInterval(q);O(g,"devices",m);g.stop()})};var kl=function(a){W.call(this,a,this.i.bind(this),null);this.c=null;this.l=0;this.f=null;this.h=0};r(kl,W);kl.prototype.i=function(){var a=this;Y(a.a,30);return T(this.b,Jk(this.a)).then(function(b){a.c=b;X(a).sendMessage(new Hc("OtaUpdate.Pending",Tk(a.a)));ll(a,0)})};
var ll=function(a,b){B(T(a.b,U(b)).then(function(){++a.l;return T(a.b,kj(a.c,{options:["ota_status","setup.setup_state"]}))}).then(function(c){var d=hj(a.c),e=0;7<=a.c.a&&(e=c.ota_status.download_progress);if(a.f!==d.setupState||e!==a.h)a.f=d.setupState,a.h=e,60===a.f&&a.g();ll(a,3E3)}),function(c){hg(c);c=a.c.getState().eurekaInfoState.ssdpUdn;var d=a.a.a;T(a.b,jl(c,d.b,d.i,d.g,d.window)).then(a.g.bind(a),a.j.bind(a))})};
kl.prototype.g=function(){Y(this.a,31);var a=X(this);T(this.b,rh(a,"OtaUpdate.Proceed")).then(function(){bl(this.a)}.bind(this));a.sendMessage(new Hc("OtaUpdate.Done",Tk(this.a)))};kl.prototype.j=function(){};var ml=function(a,b,c){this.f=new S(this.m.bind(this),this.l.bind(this));this.a=a;this.j=b;this.b=c;this.c=null;this.i=new P;b.a.a.addListener("RestartSetup",this.s.bind(this));b.a.a.addListener("GoToDeviceList",this.a.f.bind(this.a))};ml.prototype.start=function(){return this.f.start()};ml.prototype.stop=function(){return this.f.stop()};
var bl=function(a){var b=Z(a),c=a.b.setupApiClientState||null,d=c.deviceIpAddress;c=c.eurekaInfoState;Y(a,b.device&&b.device.bssid?25:28);b=new Ch("deviceJustSetUp");b.deviceJustSetUp=new Dh(d,c.name,c.ssdpUdn,c.modelName);var e=new Eh;e.audioOutSupported=!0;e.videoOutSupported=!!c.features.supportsDisplay;b.deviceJustSetUp.capabilities=e;a.a.l.setItem("showDeviceBanner",d);qf(a.a.a,a.b);A(T(a.f,ig(a.a.i.sendMessage(b),1E4)),function(){A(a.stop(),function(){a.a.f()})})},Tk=function(a){return(a=a.b.commonState&&
a.b.commonState.device&&a.b.commonState.device.type)?Cg(a):2},Jk=function(a){var b={read:function(){return a.b.setupApiClientState||null},write:a.h.bind(a)};return wj(a.a.g,b,a.a.h())};ml.prototype.h=function(a){a?this.b.setupApiClientState=a:delete this.b.setupApiClientState;pf(this.a.a,this.b)};
var Z=function(a){return a.b.commonState||new ff},Zk=function(a,b){b?a.b.commonState=b:delete a.b.commonState;pf(a.a.a,a.b)},Kk=function(a,b){a.c.stop().then(function(){if(a.b.states){var c=a.b.states;c.all=c.all.slice(0,c.current+1);c.all.push(b);c.current=c.all.length-1}else a.b.states=new lf(0,[b]);pf(a.a.a,a.b);a.c=a.a.j(a,b.type);Q(a.i,new nl(b.type));B(T(a.f,a.c.start()),function(d){if(d instanceof D)switch(a.f.getState()){case "starting":case "started":a.g()}else a.g()})})};
ml.prototype.g=function(){qf(this.a.a,this.b);this.j.a.a.sendMessage(new Hc("ShowGenericSetupError",Tk(this)));B(this.stop(),n)};var Y=function(a,b){a.a.c.b(b)};
ml.prototype.m=function(){var a=this.b.states.all[this.b.states.current].type;this.c=this.a.j(this,a);Q(this.i,new nl(a));null===this.a.a.getItem("setupNoCountryDetection")&&(a=Z(this),a.country||a.connectedHotSpotBssid||T(this.f,this.j.a.a.sendRequest(new rd)).then(function(b){var c=Z(this);c.country||(c.country=b.countryCode,Zk(this,c))}.bind(this)));return this.c.start()};ml.prototype.l=function(){var a=this.c;this.c=null;Q(this.i,new nl(null));return a.stop()};
ml.prototype.s=function(){qf(this.a.a,this.b);this.a.m()};var nl=function(a){N.call(this,"newState");this.state=a};r(nl,N);var ol=function(a){W.call(this,a,this.B.bind(this),this.w.bind(this));this.c=1;this.f=this.h=null;this.g=new L;this.i=new L;this.j=null;this.o=this.H.bind(this);this.l=this.v.bind(this)};r(ol,W);
ol.prototype.B=function(){var a=this;pl(a,1);X(a).addListener("SetupStart.Proceed",a.o);var b=[];b.push(T(a.b,this.a.a.c.a()).then(function(e){a.j=e}));var c=Z(a.a);c.device&&!c.pinned&&(c.device=void 0,Zk(a.a,c));var d=a.a.a;a.f=new Sj(d.b,d.i,d.g,d.window);d=a.f.f.a;d.listen("added",a.m,!0,a);d.listen("connected",a.s,!0,a);a.f.listen("devices",this.l);b.push(T(a.b,a.f.start()));Wg(a.b).then(function(){c.pinned&&c.device?(a.h=c.device,pl(a,5),ql(a)):0!=a.i.a?rl(a,a.i.K(!1).next()):ee(a.g,function(e){if("NotConnected"===
e.ConnectionState)return!0;sl(a,e);return!1})&&(pl(a,2),ql(a),T(a.b,U(5E3)).then(a.G.bind(a)))});return y(b)};ol.prototype.w=function(){this.c=1;this.h=null;this.g=new L;this.i=new L;this.j=null;X(this).removeListener("SetupStart.Proceed",this.o);if(!this.f)return x();var a=this.f;this.f=null;var b=a.f.a;O(b,"added",this.m,!0,this);O(b,"connected",this.s,!0,this);O(a,"devices",this.l);return a.stop()};
var pl=function(a,b){b!==a.c&&(a.c=b)},ql=function(a){var b=X(a);switch(a.c){case 1:case 2:b.sendMessage(new Jc(!1));break;case 3:b.sendMessage(new Jc(!0));break;case 4:b.sendMessage(new F("DeviceDiscovery.NotFound"));break;case 5:tl(a,1);break;case 6:tl(a,2);break;case 7:tl(a,3);break;case 8:tl(a,4)}},tl=function(a,b){var c=Cg(a.h.type);b=new Lc(b,c,a.h.name);b.otherDevicesExist=1<a.g.a+a.i.a;b.analyticsOptIn=3!==a.j;X(a).sendMessage(b)};
ol.prototype.G=function(){if(2===this.c)if(0===this.g.a)pl(this,3),ql(this),T(this.b,U(45E3)).then(function(){3===this.c&&(this.f.stop(),pl(this,4),ql(this))}.bind(this));else{var a=de(this.g,function(b,c){return"NotConnected"!==c.ConnectionState?c:(c.WiFi&&c.WiFi.SignalStrength||-Infinity)<(b&&b.WiFi&&b.WiFi.SignalStrength||-Infinity)?b:c});sl(this,a)}};
var sl=function(a,b){b=b&&b.WiFi;var c=b.SSID,d=yg(c);a.h=new gf({name:d.name,type:d.type,ssid:c,bssid:b.BSSID});pl(a,5);ql(a)},rl=function(a,b){var c=b.U.getState().eurekaInfoState;a.h=new gf({name:c.name,type:c.deviceType,ipAddress:b.ipAddress});pl(a,5);ql(a)};ol.prototype.m=function(a){a=a.properties;var b=!he(this.g,a.GUID);this.g.set(a.GUID,a);5===this.c?b&&ql(this):3===this.c&&sl(this,a)};ol.prototype.s=function(a){2!==this.c&&3!==this.c||sl(this,a.properties)};
ol.prototype.v=function(a){var b=this,c=null;a.devices.filter(function(d){d=d.U.getState().eurekaInfoState;return d.features.supportsSetup&&d.ethernetConnected&&!d.tosAccepted}).forEach(function(d){he(b.i,d.ipAddress)||(b.i.set(d.ipAddress,d),c=c||d)});c&&(2===b.c||3===b.c?rl(b,c):5===b.c&&ql(b))};
ol.prototype.H=function(){var a=this;5!==a.c&&8!==a.c||ul(a).then(function(){var b=Z(a.a);b.device=a.h;Zk(a.a,b);if(b.device.bssid)Y(a.a,3),Kk(a.a,new M(2));else{Y(a.a,27);pl(a,7);ql(a);var c=a.a.a;B(T(a.b,wj(c.g,uj(b.device.ipAddress),c.h())).then(function(d){a.a.h(d.getState());Y(a.a,27);Kk(a.a,new M(5))}),function(){pl(a,8);ql(a)})}})};
var ul=function(a){var b=a.a.a.a;if(null!==b.getItem("setupTosAccepted"))return x();var c=a.a.a.c,d=T(a.b,rh(X(a),"SetupStart.TosAccepted")).then(function(e){c.h(e.analyticsOptIn);b.setItem("setupTosAccepted","")}.bind(a));pl(a,6);ql(a);return d};var wl=function(a){this.f=a;this.b=new P;this.networks=new L;this.c=!1;this.a=new S(function(){vl(this);return x()}.bind(this),function(){this.networks.clear();this.c=!1;return x()}.bind(this))};wl.prototype.start=function(){return this.a.start()};wl.prototype.stop=function(){return this.a.stop()};
var vl=function(a){B(T(a.a,qj(a.f)).then(function(){T(a.a,U(3E3))}).then(function(){var b=new xl;a.g(b);return b.I.a}).then(a.h.bind(a)).then(function(){return T(a.a,U(1E3))}).then(function(){vl(a)}),function(b){hg(b);Q(a.b,new yl(b));a.stop()})};wl.prototype.g=function(a){B(T(this.a,pj(this.f)).then(this.i.bind(this,a)).then(function(){3===a.a?a.I.b(a.networks):T(this.a,U(2E3)).then(this.g.bind(this,a))}.bind(this)),function(b){a.I.c(b)})};
wl.prototype.i=function(a,b){var c=!1,d=!1;b.filter(function(e){return 1!==e.wpa_auth?!0:!xg(e.bssid)}).forEach(function(e){var f=zl(e),g=a.networks.get(f);g?Al(g,e):(g=new Bl(e),a.networks.set(f,g),c=!0,he(this.networks,f)||(this.networks.set(f,g),d=!0))}.bind(this));a.a=c?0:a.a+1;if(d||!this.c)Q(this.b,new N("networksAdded")),this.c=!0};
wl.prototype.h=function(a){a.forEach(function(b){b.ya=!0});ce(lg(new R(this.networks.A()),a.A()),function(b){var c=this.networks.get(b);c.W=-Infinity;a.set(b,c)}.bind(this));this.networks=a;Q(this.b,new N("scanCompleted"))};
var Bl=function(a){this.id=zl(a);this.ssid=a.ssid;this.Ea=a.wpa_auth;this.Fa=a.wpa_cipher;this.Ga=a.wpa_id;this.ia=new R;this.W=a.signal_level;this.ya=this.ga=!1;Al(this,a)},Al=function(a,b){a.ia.add(b.bssid);a.W=Math.max(a.W,b.signal_level);b.ap_list&&b.ap_list.forEach(function(c){this.ia.add(c.bssid);this.W=Math.max(this.W,c.signal_level);this.ga=this.ga||5E3<=c.frequency}.bind(a))},yl=function(){N.call(this,"error")};r(yl,N);
var xl=function(){this.networks=new L;this.a=0;this.I=z()},zl=function(a){return a.wpa_id?a.wpa_id.toString():a.ssid+":"+a.wpa_auth+":"+a.wpa_cipher};var Cl=function(a){W.call(this,a,this.v.bind(this),this.o.bind(this));this.h=this.f=this.c=this.g=null;this.s=this.i.bind(this);this.j=this.w.bind(this);this.m=this.B.bind(this)};r(Cl,W);
Cl.prototype.v=function(){var a=this;return T(a.b,Jk(a.a)).then(function(b){a.g=b;var c=null;b=X(a);c=Z(a.a);a.f=c.connectWiFi||null;if(a.f){var d=Hg(a.f,Tk(a.a));delete c.connectWiFi;Zk(a.a,c);2===a.f.a?c=a.i():(b.addListener("WiFiConfig.ErrorAck",a.s),c=x());Dl(a,d)}else c=a.i(),T(a.b,U(7E3)).then(function(){a.h||Dl(a,new ad(1,Tk(a.a),[],null))});b.addListener("WiFiConfig.Retry",a.m);return c})};
Cl.prototype.i=function(){if(this.c)return x();this.c=new wl(this.g);this.c.b.listen("networksAdded",this.l,!0,this);X(this).addListener("WiFiConfig.Connect",this.j);El(this);return this.c.start()};Cl.prototype.o=function(){this.h=this.g=null;var a=X(this);a.removeListener("WiFiConfig.Connect",this.j);a.removeListener("WiFiConfig.Retry",this.m);a.removeListener("WiFiConfig.ErrorAck",this.s);return this.c?(O(this.c.b,"networksAdded",this.l,!0,this),a=this.c,this.c=null,a.stop()):x()};
var Dl=function(a,b){a.h=b;X(a).sendMessage(b)};Cl.prototype.l=function(){if(this.h)X(this).sendMessage(new bd(this.c.networks.u().map(function(e){return new $c(e.id,e.ssid,Dg(e.Ea))})));else{var a=Z(this.a),b=a.originalWiFiNetwork&&a.originalWiFiNetwork.bssid,c=[],d=null;ce(this.c.networks,function(e){var f=new $c(e.id,e.ssid,Dg(e.Ea));c.push(f);b&&e.ia.contains(b)&&(d=f)});Dl(this,new ad(1,Tk(this.a),c,d))}};
Cl.prototype.w=function(a){var b=this,c=Fl(b,a);T(b.b,new w(function(d){a.password?d(Gl(b,a.password).then(function(e){c.msg.enc_passwd=e})):d()})).then(function(){return T(b.b,Hl(b,c))}).then(function(d){d?(b.f=c,Dl(b,new ad(5,Tk(b.a),b.h.networks,a.network))):(d=Z(b.a),d.connectWiFi=c,Zk(b.a,d),B(jj(b.g,c.msg),n),Y(b.a,15),Kk(b.a,new M(7)))})};
var Fl=function(a,b){var c=new jf(new Ee(b.network.ssid,Eg(b.network.security)));b.network.id&&(c.b=b.network.id,a.c&&he(a.c.networks,b.network.id)?(a=a.c.networks.get(b.network.id),a.Fa&&(c.msg.wpa_cipher=a.Fa),a.Ga&&(c.msg.wpa_id=a.Ga)):a.f&&a.f.b===b.network.id&&(a=a.f.msg,a.wpa_cipher&&(c.msg.wpa_cipher=a.wpa_cipher),a.wpa_id&&(c.msg.wpa_id=a.wpa_id)));return c},Hl=function(a,b){var c=Z(a.a);if("m"!==(c.device&&c.device.type))return x(!1);var d=b.b;if(!d)return x(!1);if(b=a.c.networks.get(d)){if(b.ga)return x(!1);
if(b.ya)return x(!0)}return gg(a.c.b,"scanCompleted").then(function(){var e=a.c.networks.get(d);return e&&!e.ga})};Cl.prototype.B=function(){var a=Z(this.a);a.connectWiFi=this.f;Zk(this.a,a);B(jj(this.g,a.connectWiFi.msg),n);Y(this.a,15);Kk(this.a,new M(7))};
var Gl=function(a,b){var c=a.g.getState().verificationState.verificationProperties;return a.a.a.b.verifyAndEncryptData(c,b)},El=function(a){var b=a.g.a;if(!(4>b)){var c=Z(a.a).country,d=null;7>b?(b=new cf,b.location=new Le,b.location.country_code=c,d=b):(b=new df,b.settings=new Te,b.settings.country_code=c,d=b);B(T(a.b,rj(a.g,d)),function(){})}};var Il=function(a){var b=Z(a).connectWiFi,c=tf(a.a.a);u("Macintosh")&&1!==b.msg.wpa_auth&&(c=!1);dl.call(this,a,b.msg.ssid,null,c);this.f=null};r(Il,dl);var Jl=new L(1,20,2,21,3,22,4,23,5,24);Il.prototype.m=function(){this.f=null;return Il.F.m.call(this)};var Kl=function(a){return a.f?x(a.f):T(a.b,Jk(a.a)).then(function(b){a.f=hj(b).connectedIpAddress;return a.f})};k=Il.prototype;k.qa=function(){var a=this;return Kl(a).then(function(b){return T(a.b,wj(a.a.a.g,uj(b)))})};
k.V=function(a){var b=Z(this.a),c=b.connectWiFi;a=2===a||3===a?1:void 0;c.a!==a&&(c.a=a,Zk(this.a,b));X(this).sendMessage(Hg(c,Tk(this.a)))};k.J=function(a){X(this).sendMessage(new Pc(a,Z(this.a).connectWiFi.msg.ssid))};k.ra=function(a){this.a.h(a.getState());Kk(this.a,new M(9))};k.M=function(a){(a=Jl.get(a))&&Y(this.a,a)};var Fk=function(a,b){switch(b){case 1:return new ol(a);case 2:return new hl(a);case 3:return new Lk(a);case 4:return new Ik(a);case 5:return new al(a);case 6:return new Cl(a);case 7:return new Rk(a);case 8:return new Il(a);case 9:return new cl(a);case 10:return new kl(a);default:return new W(a,null,null)}};var Ll=null;p("castApp.app.setupManager",Ll);var Ml={sb:"devices",tb:"offers",ub:"setup",ERROR:"error"},Nl=/^https?:/i,Ol=function(a){if(!a||"#"==a)return{};a.startsWith("#")&&(a=a.slice(1));var b=a.split("/");if(!(0<=Ga(db(Ml),b[0])))return{};a={L:b[0]};if(b[1])switch(a.L){case "devices":b=decodeURIComponent(b[1]);Ud(b)&&(a.ipAddress=b);break;case "setup":a.la=b[1];break;case "offers":b=decodeURIComponent(b[1]),Nl.test(b)&&(a.za=b)}return a};
window.addEventListener("hashchange",function(a){var b=ze(a.oldURL).g;a=ze(a.newURL).g;Ol(b).L!==Ol(a).L&&location.reload()});
var Gk=function(){window.location.hash="devices"},Pl=function(a){window.location.hash="setup/"+a},Ql=function(a){window.location.hash="devices/"+encodeURIComponent(a)},Rl=function(){window.location.hash="error"},Sl=function(a){if(u("Linux"))Rl();else{var b=chrome.metricsPrivate?new xf(window.localStorage):new wf,c=chrome.networkingPrivate?Og.b():null,d=new Hk(window,c,new ej,b),e=new Ak(a),f=function(){var g=Ol(window.location.hash);if("setup"===g.L){var h=null;if(g.la){if(Ll&&Ll.b.id===g.la)return;
h=Ka(nf(d.a),function(m){return m.id===g.la})}h||(h=new ef(yb()),h.states=new lf(0,[new M(1)]),pf(d.a,h),window.history.replaceState(null,"","#setup/"+h.id));Ll&&Ll.stop();Ll=new ml(d,e,h);Ll.start()}};e.start().then(function(){f();window.addEventListener("hashchange",f)})}},Tl=function(a,b){if(u("Linux"))Rl();else{var c=new Ak(a),d=chrome.networkingPrivate?Og.b():null,e=new ej,f=new zh(window,c,e,Pl,Gk,Ql,window.location.reload.bind(window.location),new Mg,a,chrome.i18n.getUILanguage,new Sj(d,b,
e,window)),g=null,h=null,m=function(C){if(!h||h.i!==C){var Qf=g&&g.stop()||h&&h.stop()||x();g=null;var Ul=h=new vk(f,C);Qf.then(function(){h===Ul&&B(h.start(),Gk)})}},q=function(){if(!g){var C=h&&h.stop()||x(),Qf=g=new mk(f);h=null;C.then(function(){Qf===g&&g.start()})}},I=function(){var C=Ol(location.hash);"devices"===C.L&&(C.ipAddress?m(C.ipAddress):q())};c.start().then(function(){I();window.addEventListener("hashchange",I)})}},Wl=function(a,b){var c=new Ak(a);a=chrome.metricsPrivate?new xf(window.localStorage):
new wf;var d=new Dk(window,c,b,new ej,a);c.start().then(function(){var e=c.a.a,f=new L;e.addListener("Offers.Scan",function(g){var h=g.scanId;he(f,h)||(g=new Ek(d,h),f.set(h,g),gg(g.f.c,"stopped").then(function(){f.remove(h)}),g.start())});e.addListener("Offers.Redeem",function(g){var h=encodeURIComponent(g.url);Vl(h).then(function(m){0===m.length?chrome.tabs.create({url:"chrome://cast/#offers/"+h,active:!0}):(chrome.tabs.update(m[0].tabId,{active:!0}),chrome.windows.update(m[0].windowId,{active:!0}))})});
e.addListener("Offers.AnalyticsEvent",function(g){d.c.f(g)});e.sendMessage(new F("Offers.Show"))})},Xl=function(a){Bk(window,"start");B(dj(new ej,{url:a}).then(function(b){var c=b.url;return c&&Nl.test(c)?Vl(encodeURIComponent(a)).then(function(d){d.forEach(function(e){chrome.tabs.update(e.id,{url:c})})}):jc()}),function(){Bk(window,"unknown-error")})},Vl=function(a){return new w(function(b){chrome.tabs.query({url:["chrome://cast/*","chrome-extension://"+chrome.runtime.id+"/cast_setup*"]},function(c){var d=
[];c.forEach(function(e){-1!==e.url.indexOf(a)&&d.push(e)});b(d)})})};window.addEventListener("load",function(){var a=new Kh,b=new wh(window);b.f.listen("originViolation",Rl);of();var c=Ol(location.hash);switch(c.L){case "devices":Tl(b,a);break;case "offers":c.za?Xl(c.za):Wl(b,a);break;case "setup":Sl(b);break;case "error":Bk(window,"unknown-error");break;default:JSON.stringify(c),Gk()}});
